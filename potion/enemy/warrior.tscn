[gd_scene load_steps=11 format=3 uid="uid://d0w5c27p08lp6"]

[ext_resource type="PackedScene" uid="uid://csgnjx147ai2w" path="res://assets/KayKit_Skeletons_1.0_FREE/characters/gltf/Skeleton_Warrior.glb" id="1_22bvo"]
[ext_resource type="Script" uid="uid://1dcpeuely0gj" path="res://potion/enemy/enemy.gd" id="1_x44yb"]
[ext_resource type="Script" uid="uid://cuspqvicid1n2" path="res://obstacles/helper/hit_box.gd" id="3_a31gv"]
[ext_resource type="Script" uid="uid://bav8mlr6l6106" path="res://potion/hurtbox.gd" id="4_b0un1"]
[ext_resource type="Script" uid="uid://bn80he875obc8" path="res://potion/effect/status_effect_manager.gd" id="5_k76b1"]
[ext_resource type="PackedScene" uid="uid://cp3cr67lwt4i0" path="res://potion/enemy/status.tscn" id="6_gvykr"]

[sub_resource type="BoxShape3D" id="BoxShape3D_a31gv"]
size = Vector3(1, 1, 0.56640625)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_a31gv"]
radius = 0.6274414

[sub_resource type="CylinderShape3D" id="CylinderShape3D_b0un1"]
height = 1.7161865
radius = 0.4165039

[sub_resource type="ViewportTexture" id="ViewportTexture_6edpb"]
viewport_path = NodePath("Status/SubViewport")

[node name="Warrior" type="CharacterBody3D" node_paths=PackedStringArray("hit_box", "animation_player", "hurt_box")]
collision_layer = 4
script = ExtResource("1_x44yb")
speed = 2.5
attack_anims = Array[String](["1H_Melee_Attack_Chop", "1H_Melee_Attack_Jump_Chop", "1H_Melee_Attack_Slice_Diagonal"])
hit_box = NodePath("Skeleton_Warrior/HitBox")
animation_player = NodePath("Skeleton_Warrior/AnimationPlayer")
hurt_box = NodePath("HurtBox")

[node name="Skeleton_Warrior" parent="." instance=ExtResource("1_22bvo")]
transform = Transform3D(-0.8, 0, -6.9938224e-08, 0, 0.8, 0, 6.9938224e-08, 0, -0.8, 0, 0, 0)

[node name="Skeleton3D" parent="Skeleton_Warrior/Rig" index="0"]
bones/1/position = Vector3(0, 0.39206383, 0)
bones/1/rotation = Quaternion(-1.11122625e-10, 0.043157753, 2.5724098e-09, 0.9990683)
bones/1/scale = Vector3(0.99999994, 1, 0.99999994)
bones/2/rotation = Quaternion(-6.938893e-18, 7.1054274e-15, 4.93038e-32, 1)
bones/2/scale = Vector3(1.0000001, 1, 1.0000001)
bones/3/rotation = Quaternion(8.271806e-25, 3.7252903e-09, -2.75506e-40, 1)
bones/3/scale = Vector3(1, 0.9999999, 1)
bones/4/position = Vector3(0.21200736, 0.13413203, 7.9299625e-08)
bones/4/rotation = Quaternion(-0.5599063, -0.060880348, -0.6439745, 0.5177794)
bones/4/scale = Vector3(0.9999991, 0.9999986, 0.9999996)
bones/5/rotation = Quaternion(3.6549825e-08, -4.8830096e-08, -0.49471933, 0.8690529)
bones/5/scale = Vector3(1.0000006, 0.99999946, 1)
bones/6/rotation = Quaternion(1.44633185e-08, 1.2667185e-08, 0.026658092, 0.99964464)
bones/6/scale = Vector3(0.99999994, 1, 1)
bones/7/rotation = Quaternion(-0.32106528, -0.32531866, 0.14572594, 0.8774103)
bones/7/scale = Vector3(0.9999998, 0.99999976, 1.0000004)
bones/8/position = Vector3(8.348433e-10, 0.096125185, -0.057500035)
bones/8/rotation = Quaternion(-3.6586003e-09, 6.8781096e-09, -0.7071068, 0.7071067)
bones/8/scale = Vector3(1, 1.0000001, 1.0000001)
bones/9/position = Vector3(-0.21200737, 0.13413203, 8.6813984e-08)
bones/9/rotation = Quaternion(-0.6182439, 0.08072865, 0.61801153, 0.47887278)
bones/9/scale = Vector3(0.99999905, 0.9999985, 0.9999996)
bones/10/rotation = Quaternion(2.098529e-08, 5.128552e-08, 0.5179393, 0.85541743)
bones/10/scale = Vector3(1.0000008, 0.9999997, 0.9999999)
bones/11/rotation = Quaternion(-4.94615e-10, -1.4597426e-08, -0.026658095, 0.99964464)
bones/11/scale = Vector3(1.0000001, 1, 1)
bones/12/rotation = Quaternion(-0.31929126, 0.30052418, -0.22734971, 0.8695116)
bones/12/scale = Vector3(0.9999998, 0.9999999, 1.0000002)
bones/13/position = Vector3(-1.573599e-08, 0.096125126, -0.057499975)
bones/13/rotation = Quaternion(-1.0244433e-09, -4.24391e-09, 0.7071068, 0.7071067)
bones/13/scale = Vector3(1, 1.0000001, 1.0000001)
bones/14/rotation = Quaternion(-5.8060785e-11, -0.031341746, -1.880125e-09, 0.99950874)
bones/14/scale = Vector3(1, 0.99999994, 1)
bones/16/position = Vector3(0.17094508, 0.1135872, 1.5994095e-08)
bones/16/rotation = Quaternion(0.9961855, 0.04791363, 0.05664269, -0.04593895)
bones/16/scale = Vector3(0.9999998, 0.9999997, 1.000001)
bones/17/rotation = Quaternion(0.16501395, 6.494141e-08, -1.1140718e-07, 0.9862913)
bones/17/scale = Vector3(1.0000004, 0.9999998, 0.99999994)
bones/18/rotation = Quaternion(-0.53372866, -0.26089525, -1.7298482e-05, 0.80440503)
bones/18/scale = Vector3(0.9999998, 1.0000011, 0.9999993)
bones/19/rotation = Quaternion(0.00026347244, 0.9202156, -0.39141193, -5.963906e-05)
bones/19/scale = Vector3(1, 0.9999973, 1.0000023)
bones/20/position = Vector3(-0.17094508, 0.11358732, 1.557549e-08)
bones/20/rotation = Quaternion(0.9973222, -0.029457364, 0.03152927, 0.05904832)
bones/20/scale = Vector3(0.9999999, 0.99999976, 1.0000008)
bones/21/rotation = Quaternion(0.2740081, -6.381352e-08, 1.9276102e-07, 0.9617275)
bones/21/scale = Vector3(0.99999994, 0.99999976, 0.99999994)
bones/22/rotation = Quaternion(-0.5590394, 0.11451276, -0.008627633, 0.82115)
bones/22/scale = Vector3(0.99999976, 1.0000006, 0.9999992)
bones/23/rotation = Quaternion(-8.9348905e-05, 0.9202216, -0.39139763, 2.0290994e-05)
bones/23/scale = Vector3(1.0000002, 0.9999979, 1.0000024)
bones/24/rotation = Quaternion(0.7071068, -2.2930234e-07, -4.6055177e-08, 0.7071068)
bones/25/position = Vector3(0.21391787, 0.025990263, 0.17386575)
bones/25/rotation = Quaternion(-0.70509243, 0.05333549, 0.05333548, 0.70509243)
bones/26/rotation = Quaternion(9.6579225e-09, 1.7795515e-09, 0.98571914, -0.1683977)
bones/27/position = Vector3(-1.1148217e-08, 0.21343614, -5.3634723e-09)
bones/27/rotation = Quaternion(-1.1096062e-07, 0.39108434, 0.92035484, -2.6791865e-08)
bones/27/scale = Vector3(0.99999994, 0.9999999, 0.9999999)
bones/28/position = Vector3(-6.3112795e-09, 0.16565004, -7.102669e-09)
bones/28/scale = Vector3(1, 0.99999994, 1)
bones/29/rotation = Quaternion(1, -8.2736366e-11, 1.9462742e-07, -7.450581e-09)
bones/29/scale = Vector3(0.99999994, 1, 0.99999994)
bones/30/rotation = Quaternion(5.551129e-17, -6.740978e-17, -1.9466935e-08, 1)
bones/31/rotation = Quaternion(0.7071068, -3.823849e-08, 1.4500867e-07, 0.7071068)
bones/32/rotation = Quaternion(-0.7071068, -7.0528515e-08, -7.05285e-08, 0.7071068)
bones/33/rotation = Quaternion(-5.8358944e-09, 6.4383693e-10, 0.9948094, 0.10175614)
bones/34/position = Vector3(-1.114822e-08, 0.21343614, -2.5094192e-15)
bones/34/rotation = Quaternion(-1.05795515e-07, 0.39108434, 0.92035484, -2.5864264e-08)
bones/34/scale = Vector3(1.0000001, 1, 0.9999999)
bones/35/position = Vector3(-6.3112755e-09, 0.16565004, 2.7069498e-09)
bones/35/rotation = Quaternion(-0.39108434, -6.739311e-08, -6.2200165e-08, 0.92035484)
bones/35/scale = Vector3(1.0000001, 1, 1)
bones/36/rotation = Quaternion(1, 3.7652574e-09, 1.9487908e-07, 7.4505815e-09)
bones/36/scale = Vector3(0.99999994, 1, 0.99999994)
bones/37/rotation = Quaternion(1.00614094e-16, -6.7409847e-17, -1.574163e-08, 1)
bones/37/scale = Vector3(1.0000001, 1, 1)
bones/38/rotation = Quaternion(-0.7071068, -7.279511e-08, -7.279509e-08, 0.7071068)
bones/39/position = Vector3(0.52084064, 0.78831226, -0.05763735)
bones/39/rotation = Quaternion(0.7946267, -1.1175871e-07, 0.6070983, -5.9604645e-08)
bones/40/rotation = Quaternion(-0.7071068, -7.279511e-08, -7.279509e-08, 0.7071068)
bones/41/position = Vector3(-0.5108437, 0.78831214, 0.059736922)
bones/41/rotation = Quaternion(-0.7582528, -1.527369e-07, 0.65196073, -1.1175871e-08)
bones/41/scale = Vector3(1, 1.0000001, 1)

[node name="Skeleton_Warrior_Helmet" parent="Skeleton_Warrior/Rig/Skeleton3D" index="0"]
transform = Transform3D(0.99972045, -1.4014349e-09, 0.023646593, 1.3934147e-09, 0.9999998, 3.5568637e-10, -0.023646593, -3.2263736e-10, 0.99972045, -7.483345e-09, 1.2022732, -1.3592684e-07)

[node name="AnimationPlayer" parent="Skeleton_Warrior" index="1"]
autoplay = "Running_A"

[node name="HitBox" type="Area3D" parent="Skeleton_Warrior"]
transform = Transform3D(1.25, 0, 2.1316282e-14, 0, 1.25, 0, -2.1316282e-14, 0, 1.25, -3.2600347e-08, 1.101941, 0.8798975)
collision_layer = 0
collision_mask = 8
script = ExtResource("3_a31gv")
metadata/_custom_type_script = "uid://cuspqvicid1n2"

[node name="CollisionShape3D" type="CollisionShape3D" parent="Skeleton_Warrior/HitBox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.21679688)
shape = SubResource("BoxShape3D_a31gv")

[node name="HurtBox" type="Area3D" parent="."]
collision_layer = 128
collision_mask = 0
script = ExtResource("4_b0un1")

[node name="CollisionShape3D" type="CollisionShape3D" parent="HurtBox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.0028687, -0.2604406)
shape = SubResource("CapsuleShape3D_a31gv")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8600464, -0.103174105)
shape = SubResource("CylinderShape3D_b0un1")

[node name="StatusEffectManager" type="Node" parent="."]
script = ExtResource("5_k76b1")
metadata/_custom_type_script = "uid://bn80he875obc8"

[node name="Status" parent="." node_paths=PackedStringArray("status_manager") instance=ExtResource("6_gvykr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.6572467, 1.6073931, 0)
texture = SubResource("ViewportTexture_6edpb")
status_manager = NodePath("../StatusEffectManager")

[connection signal="hit" from="." to="Skeleton_Warrior/HitBox" method="hit"]

[editable path="Skeleton_Warrior"]
