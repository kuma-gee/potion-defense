[gd_scene load_steps=61 format=3 uid="uid://c1iqm3nhm3m8q"]

[ext_resource type="PackedScene" uid="uid://bbpop2ylo0vfo" path="res://potion/enemy/skeleton.tscn" id="1_ll7cd"]
[ext_resource type="Script" uid="uid://bm2r4gbb2amt8" path="res://potion/enemy/fire_skeleton.gd" id="2_dj6t6"]
[ext_resource type="Script" uid="uid://cuspqvicid1n2" path="res://util/hit_box.gd" id="3_epxrq"]
[ext_resource type="PackedScene" uid="uid://br0fd5nnfheb2" path="res://assets/KayKit_Skeletons_1.0_FREE/gltf/Skeleton_Minion.glb" id="4_pofti"]
[ext_resource type="Texture2D" uid="uid://dw1yds26jevim" path="res://assets/particles/T_Distortion3.jpg" id="5_qjwsy"]
[ext_resource type="Texture2D" uid="uid://cdb5d5rqgi1s3" path="res://assets/particles/T_Fire3.jpg" id="6_dvjrj"]
[ext_resource type="PackedScene" uid="uid://dks6w4ls71yt6" path="res://vfx/red_beam_impact.tscn" id="8_8woa4"]
[ext_resource type="Script" uid="uid://bmxiv2l1dkflu" path="res://potion/effect/status/elemental_area.gd" id="9_6fhoe"]
[ext_resource type="AudioStream" uid="uid://dxta3ng0pxsil" path="res://assets/sound/sfx/爆発3.mp3" id="9_dvjrj"]
[ext_resource type="AudioStream" uid="uid://dxt5mqb0s2tej" path="res://assets/sound/sfx/ビニール袋.mp3" id="10_rdach"]

[sub_resource type="Animation" id="Animation_gyv1v"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("RedBeamImpact:play_particles")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("CollisionShape3D:disabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Skeleton_Minion:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("ZeldaFire:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("ElementalArea:monitoring")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("ElementalArea:monitorable")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("Charge:playing")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_marap"]
resource_name = "attack0"
tracks/0/type = "animation"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Skeleton_Minion/AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": PackedStringArray("1H_Melee_Attack_Chop"),
"times": PackedFloat32Array(0)
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("HitBox")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.56666666),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"hit"
}]
}

[sub_resource type="Animation" id="Animation_pln5a"]
resource_name = "death"
length = 2.0
tracks/0/type = "animation"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Skeleton_Minion/AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": PackedStringArray("Death_C_Skeletons"),
"times": PackedFloat32Array(0)
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("ZeldaFire:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("ElementalArea:monitoring")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("ElementalArea:monitorable")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_v6s0v"]
resource_name = "death_explode"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CollisionShape3D:disabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Skeleton_Minion:visible")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("ZeldaFire:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("ElementalArea:monitoring")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("ElementalArea:monitorable")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_0qolm"]
resource_name = "explode"
length = 1.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("RedBeamImpact:play_particles")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("ExplosionHitBox")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(1.3333334),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"hit"
}]
}
tracks/2/type = "animation"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Skeleton_Minion/AnimationPlayer")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"clips": PackedStringArray("Cheer"),
"times": PackedFloat32Array(0.033333335)
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Explosion:playing")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(1.3),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("Charge:playing")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0, 1.23),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}

[sub_resource type="Animation" id="Animation_5nt5p"]
resource_name = "knockback"
tracks/0/type = "animation"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Skeleton_Minion/AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": PackedStringArray("Hit_B"),
"times": PackedFloat32Array(0)
}

[sub_resource type="Animation" id="Animation_dc35x"]
resource_name = "move"
length = 0.8
loop_mode = 1
tracks/0/type = "animation"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Skeleton_Minion/AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": PackedStringArray("Walking_D_Skeletons"),
"times": PackedFloat32Array(0.033333335)
}

[sub_resource type="Animation" id="Animation_q7elp"]
resource_name = "run"
length = 0.8
loop_mode = 1
tracks/0/type = "animation"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Skeleton_Minion/AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": PackedStringArray("Running_C"),
"times": PackedFloat32Array(0.033333335)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_0qolm"]
_data = {
&"RESET": SubResource("Animation_gyv1v"),
&"attack0": SubResource("Animation_marap"),
&"death": SubResource("Animation_pln5a"),
&"death_explode": SubResource("Animation_v6s0v"),
&"explode": SubResource("Animation_0qolm"),
&"knockback": SubResource("Animation_5nt5p"),
&"move": SubResource("Animation_dc35x"),
&"run": SubResource("Animation_q7elp")
}

[sub_resource type="BoxShape3D" id="BoxShape3D_marap"]
size = Vector3(1, 1, 0.56640625)

[sub_resource type="SphereShape3D" id="SphereShape3D_q7elp"]
radius = 2.6790953

[sub_resource type="VisualShaderNodeVec2Parameter" id="VisualShaderNodeVec2Parameter_rdach"]
parameter_name = "Speed_Vector"
default_value_enabled = true

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_mbxve"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(0, 0)]
op_type = 0
operator = 2

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_xykpr"]
input_name = "time"

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_uvvgo"]
expanded_output_ports = [0]
input_name = "color"

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_sqpc6"]
expanded_output_ports = [0]
texture = ExtResource("5_qjwsy")

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_8yj4r"]
expanded_output_ports = [0]
texture = ExtResource("6_dvjrj")

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_ud385"]
input_name = "uv"

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_x0wps"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(0, 0)]
op_type = 0

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_ln0yj"]
operator = 3

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_ox4i1"]
parameter_name = "Distortion_Intensity"
default_value_enabled = true
default_value = 8.0

[sub_resource type="Gradient" id="Gradient_iglwe"]

[sub_resource type="GradientTexture2D" id="GradientTexture2D_q2n6v"]
gradient = SubResource("Gradient_iglwe")
fill_from = Vector2(1, 1)

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_wy4tk"]
expanded_output_ports = [0]
texture = SubResource("GradientTexture2D_q2n6v")
texture_type = 1

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_d0j5y"]
operator = 2

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_23jia"]
operator = 2

[sub_resource type="VisualShaderNodeUVFunc" id="VisualShaderNodeUVFunc_pgqbo"]

[sub_resource type="VisualShaderNodeBillboard" id="VisualShaderNodeBillboard_4t7ka"]
billboard_type = 3
keep_scale = true

[sub_resource type="VisualShader" id="VisualShader_wdwd8"]
code = "shader_type spatial;
render_mode blend_mix, depth_draw_opaque, depth_test_default, cull_back, diffuse_lambert, specular_schlick_ggx, unshaded;

uniform vec2 Speed_Vector = vec2(0.000000, 0.000000);
uniform sampler2D tex_frg_26;
uniform float Distortion_Intensity = 8.0;
uniform sampler2D tex_frg_33 : source_color;
uniform sampler2D tex_frg_27;



void vertex() {
	mat4 n_out2p0;
// GetBillboardMatrix:2
	{
		mat4 __wm = mat4(normalize(INV_VIEW_MATRIX[0]), normalize(INV_VIEW_MATRIX[1]), normalize(INV_VIEW_MATRIX[2]), MODEL_MATRIX[3]);
		__wm = __wm * mat4(vec4(cos(INSTANCE_CUSTOM.x), -sin(INSTANCE_CUSTOM.x), 0.0, 0.0), vec4(sin(INSTANCE_CUSTOM.x), cos(INSTANCE_CUSTOM.x), 0.0, 0.0), vec4(0.0, 0.0, 1.0, 0.0), vec4(0.0, 0.0, 0.0, 1.0));
		__wm = __wm * mat4(vec4(length(MODEL_MATRIX[0].xyz), 0.0, 0.0, 0.0), vec4(0.0, length(MODEL_MATRIX[1].xyz), 0.0, 0.0), vec4(0.0, 0.0, length(MODEL_MATRIX[2].xyz), 0.0), vec4(0.0, 0.0, 0.0, 1.0));
		n_out2p0 = VIEW_MATRIX * __wm;
	}


// Output:0
	MODELVIEW_MATRIX = n_out2p0;


}

void fragment() {
// Input:20
	vec4 n_out20p0 = COLOR;
	float n_out20p4 = n_out20p0.a;


// Input:28
	vec2 n_out28p0 = UV;


// Vector2Parameter:10
	vec2 n_out10p0 = Speed_Vector;


// Input:15
	float n_out15p0 = TIME;


// VectorOp:14
	vec2 n_out14p0 = n_out10p0 * vec2(n_out15p0);


// UVFunc:9
	vec2 n_in9p1 = vec2(1.00000, 1.00000);
	vec2 n_out9p0 = n_out14p0 * n_in9p1 + UV;


// Texture2D:26
	vec4 n_out26p0 = texture(tex_frg_26, n_out9p0);
	float n_out26p1 = n_out26p0.r;


// FloatParameter:31
	float n_out31p0 = Distortion_Intensity;


// FloatOp:30
	float n_out30p0 = n_out26p1 / n_out31p0;


// Texture2D:33
	vec4 n_out33p0 = texture(tex_frg_33, UV);
	float n_out33p1 = n_out33p0.r;


// FloatOp:34
	float n_out34p0 = n_out30p0 * n_out33p1;


// VectorOp:29
	vec2 n_out29p0 = n_out28p0 + vec2(n_out34p0);


// Texture2D:27
	vec4 n_out27p0 = texture(tex_frg_27, n_out29p0);
	float n_out27p1 = n_out27p0.r;


// FloatOp:35
	float n_out35p0 = n_out20p4 * n_out27p1;


// Output:0
	ALBEDO = vec3(n_out20p0.xyz);
	ALPHA = n_out35p0;


}
"
flags/unshaded = true
nodes/vertex/2/node = SubResource("VisualShaderNodeBillboard_4t7ka")
nodes/vertex/2/position = Vector2(71.4713, 405.681)
nodes/vertex/connections = PackedInt32Array(2, 0, 0, 10)
nodes/fragment/0/position = Vector2(1620, 120)
nodes/fragment/9/node = SubResource("VisualShaderNodeUVFunc_pgqbo")
nodes/fragment/9/position = Vector2(-220, 400)
nodes/fragment/10/node = SubResource("VisualShaderNodeVec2Parameter_rdach")
nodes/fragment/10/position = Vector2(-740, 300)
nodes/fragment/14/node = SubResource("VisualShaderNodeVectorOp_mbxve")
nodes/fragment/14/position = Vector2(-400, 420)
nodes/fragment/15/node = SubResource("VisualShaderNodeInput_xykpr")
nodes/fragment/15/position = Vector2(-760, 600)
nodes/fragment/20/node = SubResource("VisualShaderNodeInput_uvvgo")
nodes/fragment/20/position = Vector2(960, -120)
nodes/fragment/26/node = SubResource("VisualShaderNodeTexture_sqpc6")
nodes/fragment/26/position = Vector2(20, 300)
nodes/fragment/27/node = SubResource("VisualShaderNodeTexture_8yj4r")
nodes/fragment/27/position = Vector2(1040, 220)
nodes/fragment/28/node = SubResource("VisualShaderNodeInput_ud385")
nodes/fragment/28/position = Vector2(440, 120)
nodes/fragment/29/node = SubResource("VisualShaderNodeVectorOp_x0wps")
nodes/fragment/29/position = Vector2(860, 280)
nodes/fragment/30/node = SubResource("VisualShaderNodeFloatOp_ln0yj")
nodes/fragment/30/position = Vector2(320, 520)
nodes/fragment/31/node = SubResource("VisualShaderNodeFloatParameter_ox4i1")
nodes/fragment/31/position = Vector2(-20, 800)
nodes/fragment/33/node = SubResource("VisualShaderNodeTexture_wy4tk")
nodes/fragment/33/position = Vector2(440, 760)
nodes/fragment/34/node = SubResource("VisualShaderNodeFloatOp_d0j5y")
nodes/fragment/34/position = Vector2(700, 500)
nodes/fragment/35/node = SubResource("VisualShaderNodeFloatOp_23jia")
nodes/fragment/35/position = Vector2(1355.13, 200.591)
nodes/fragment/connections = PackedInt32Array(14, 0, 9, 2, 10, 0, 14, 0, 15, 0, 14, 1, 9, 0, 26, 0, 28, 0, 29, 0, 29, 0, 27, 0, 26, 1, 30, 0, 31, 0, 30, 1, 20, 0, 0, 0, 30, 0, 34, 0, 33, 1, 34, 1, 34, 0, 29, 1, 20, 4, 35, 0, 27, 1, 35, 1, 35, 0, 0, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_3w20v"]
render_priority = 0
shader = SubResource("VisualShader_wdwd8")
shader_parameter/Speed_Vector = Vector2(0, 0)
shader_parameter/Distortion_Intensity = 8.0

[sub_resource type="Curve" id="Curve_oxwiu"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), -2.38961, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_0mr23"]
texture_mode = 1
curve = SubResource("Curve_oxwiu")

[sub_resource type="Gradient" id="Gradient_ql8uk"]
offsets = PackedFloat32Array(0, 0.409241, 1)
colors = PackedColorArray(1, 0, 0, 1, 0.939949, 0.468329, 0.247698, 1, 0.18817, 0.059457, 0.00723656, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_yj6d1"]
gradient = SubResource("Gradient_ql8uk")
use_hdr = true

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_kllo2"]
emission_shape = 1
emission_sphere_radius = 0.2
angle_min = -120.0
angle_max = 90.0
angular_velocity_min = -180.0
angular_velocity_max = 180.0
gravity = Vector3(0, 5, 0)
damping_min = 1.5
damping_max = 2.2
scale_max = 2.0
scale_over_velocity_min = 1.0
scale_over_velocity_max = 2.5
color = Color(0.32549, 0.32549, 0.32549, 1)
color_ramp = SubResource("GradientTexture1D_yj6d1")
alpha_curve = SubResource("CurveTexture_0mr23")
hue_variation_min = -0.01
hue_variation_max = 0.05

[sub_resource type="QuadMesh" id="QuadMesh_1ddtj"]

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_wfjd3"]
parameter_name = "MainTexture"
texture_filter = 2

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_wlfog"]
output_port_for_preview = 0
source = 5

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_jaotl"]
input_name = "color"

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_02i1n"]
default_input_values = [0, Quaternion(0, 0, 0, 0), 1, Quaternion(0, 0, 0, 0)]
op_type = 2
operator = 2

[sub_resource type="VisualShaderNodeVectorDecompose" id="VisualShaderNodeVectorDecompose_6rlb8"]
default_input_values = [0, Quaternion(0, 0, 0, 0)]
op_type = 2

[sub_resource type="VisualShaderNodeBillboard" id="VisualShaderNodeBillboard_xcpxr"]
billboard_type = 3
keep_scale = true

[sub_resource type="VisualShader" id="VisualShader_wxkg8"]
code = "shader_type spatial;
render_mode blend_mix, depth_draw_opaque, depth_test_default, cull_back, diffuse_lambert, specular_schlick_ggx;

uniform sampler2D MainTexture : filter_linear;



void vertex() {
	mat4 n_out2p0;
// GetBillboardMatrix:2
	{
		mat4 __wm = mat4(normalize(INV_VIEW_MATRIX[0]), normalize(INV_VIEW_MATRIX[1]), normalize(INV_VIEW_MATRIX[2]), MODEL_MATRIX[3]);
		__wm = __wm * mat4(vec4(cos(INSTANCE_CUSTOM.x), -sin(INSTANCE_CUSTOM.x), 0.0, 0.0), vec4(sin(INSTANCE_CUSTOM.x), cos(INSTANCE_CUSTOM.x), 0.0, 0.0), vec4(0.0, 0.0, 1.0, 0.0), vec4(0.0, 0.0, 0.0, 1.0));
		__wm = __wm * mat4(vec4(length(MODEL_MATRIX[0].xyz), 0.0, 0.0, 0.0), vec4(0.0, length(MODEL_MATRIX[1].xyz), 0.0, 0.0), vec4(0.0, 0.0, length(MODEL_MATRIX[2].xyz), 0.0), vec4(0.0, 0.0, 0.0, 1.0));
		n_out2p0 = VIEW_MATRIX * __wm;
	}


// Output:0
	MODELVIEW_MATRIX = n_out2p0;


}

void fragment() {
	vec4 n_out3p0;
// Texture2D:3
	n_out3p0 = texture(MainTexture, UV);


// Input:4
	vec4 n_out4p0 = COLOR;


// VectorOp:5
	vec4 n_out5p0 = n_out3p0 * n_out4p0;


// VectorDecompose:6
	float n_out6p0 = n_out5p0.x;
	float n_out6p1 = n_out5p0.y;
	float n_out6p2 = n_out5p0.z;
	float n_out6p3 = n_out5p0.w;


// Output:0
	ALBEDO = vec3(n_out5p0.xyz);
	ALPHA = n_out6p3;


}
"
nodes/vertex/2/node = SubResource("VisualShaderNodeBillboard_xcpxr")
nodes/vertex/2/position = Vector2(71.4713, 405.681)
nodes/vertex/connections = PackedInt32Array(2, 0, 0, 10)
nodes/fragment/0/position = Vector2(1360, 220)
nodes/fragment/2/node = SubResource("VisualShaderNodeTexture2DParameter_wfjd3")
nodes/fragment/2/position = Vector2(-540, 160)
nodes/fragment/3/node = SubResource("VisualShaderNodeTexture_wlfog")
nodes/fragment/3/position = Vector2(0, 280)
nodes/fragment/4/node = SubResource("VisualShaderNodeInput_jaotl")
nodes/fragment/4/position = Vector2(260, 540)
nodes/fragment/5/node = SubResource("VisualShaderNodeVectorOp_02i1n")
nodes/fragment/5/position = Vector2(720, 260)
nodes/fragment/6/node = SubResource("VisualShaderNodeVectorDecompose_6rlb8")
nodes/fragment/6/position = Vector2(900, 420)
nodes/fragment/connections = PackedInt32Array(4, 0, 5, 1, 5, 0, 6, 0, 2, 0, 3, 2, 3, 0, 5, 0, 5, 0, 0, 0, 6, 3, 0, 1)

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_ci1iy"]
load_path = "res://.godot/imported/T_T_Flare05.PNG-55110f2f19c6282e99816970fc90e840.s3tc.ctex"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_sbvf7"]
render_priority = 0
shader = SubResource("VisualShader_wxkg8")
shader_parameter/MainTexture = SubResource("CompressedTexture2D_ci1iy")

[sub_resource type="Curve" id="Curve_epxrq"]
_limits = [0.0, 3.0, 0.0, 1.0]
_data = [Vector2(0, 2.58155), 0.0, 0.0, 0, 0, Vector2(0.977901, 1.09603), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_fay21"]
curve = SubResource("Curve_epxrq")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_pofti"]
emission_shape = 1
emission_sphere_radius = 0.4
gravity = Vector3(0, 8, 0)
damping_min = 1.5
damping_max = 3.5
scale_min = 0.05
scale_max = 0.15
scale_over_velocity_max = 1.0
scale_over_velocity_curve = SubResource("CurveTexture_fay21")
color = Color(2.5, 0.5, 0, 1)
turbulence_enabled = true
turbulence_noise_strength = 0.1
turbulence_noise_scale = 20.0
turbulence_influence_min = 0.05
turbulence_influence_max = 0.2

[sub_resource type="QuadMesh" id="QuadMesh_go1c0"]

[sub_resource type="SphereShape3D" id="SphereShape3D_w46aa"]

[node name="FireSkeleton" instance=ExtResource("1_ll7cd")]
script = ExtResource("2_dj6t6")
max_charges = 3
burning_speed = 1.5
max_attack_count = 1

[node name="HurtBox" parent="." index="0"]
resistance = Dictionary[int, float]({
1: 0.8,
2: 0.0,
3: 0.0,
4: 0.0
})
max_health = 30.0

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="8"]
libraries = {
&"": SubResource("AnimationLibrary_0qolm")
}

[node name="HitBox" type="Area3D" parent="." index="9"]
transform = Transform3D(-1, 0, -8.742279e-08, 0, 1, 0, 8.742279e-08, 0, -1, -3.5458186e-08, 0.8815528, -0.703918)
collision_layer = 0
collision_mask = 16
script = ExtResource("3_epxrq")
metadata/_custom_type_script = "uid://cuspqvicid1n2"

[node name="CollisionShape3D" type="CollisionShape3D" parent="HitBox" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.21679688)
shape = SubResource("BoxShape3D_marap")

[node name="ExplosionHitBox" type="Area3D" parent="." index="10"]
transform = Transform3D(-1, 0, -8.742279e-08, 0, 1, 0, 8.742279e-08, 0, -1, 0, 0.95031404, 0)
collision_layer = 0
collision_mask = 24
script = ExtResource("3_epxrq")
element = 1
damage = 30.0
force = 10
metadata/_custom_type_script = "uid://cuspqvicid1n2"

[node name="CollisionShape3D" type="CollisionShape3D" parent="ExplosionHitBox" index="0"]
shape = SubResource("SphereShape3D_q7elp")

[node name="Skeleton_Minion" parent="." index="11" instance=ExtResource("4_pofti")]
transform = Transform3D(-0.8, 0, -6.9938224e-08, 0, 0.8, 0, 6.9938224e-08, 0, -0.8, 0, 0, 0)

[node name="Skeleton3D" parent="Skeleton_Minion/Rig" index="0"]
bones/1/position = Vector3(2.583443e-10, 0.39191797, -0.0010835746)
bones/1/rotation = Quaternion(-1.111323e-10, 0.038672704, 2.5726334e-09, 0.999252)
bones/1/scale = Vector3(0.99999994, 1, 0.99999994)
bones/2/rotation = Quaternion(-0.02346111, 1.9227464e-09, -0.00036922557, 0.9997247)
bones/2/scale = Vector3(1.0000001, 1, 1.0000001)
bones/3/rotation = Quaternion(-0.004532439, 2.6134509e-05, 0.0001975448, 0.99998975)
bones/3/scale = Vector3(1, 0.9999999, 1)
bones/4/position = Vector3(0.2096966, 0.13748038, 0.026364487)
bones/4/rotation = Quaternion(-0.6578737, -0.18164687, -0.4825366, 0.5489674)
bones/4/scale = Vector3(0.9999991, 0.9999986, 0.9999996)
bones/5/rotation = Quaternion(2.1571605e-08, -3.648433e-08, -0.716955, 0.6971194)
bones/5/scale = Vector3(1.0000006, 0.99999946, 1)
bones/6/rotation = Quaternion(1.44633185e-08, 1.2667185e-08, 0.026658092, 0.99964464)
bones/6/scale = Vector3(0.99999994, 1, 1)
bones/7/rotation = Quaternion(-0.32875204, -0.5214574, 0.062926576, 0.78488517)
bones/7/scale = Vector3(0.9999998, 0.99999976, 1.0000004)
bones/8/position = Vector3(8.348433e-10, 0.096125185, -0.057500035)
bones/8/rotation = Quaternion(-3.6586003e-09, 6.8781096e-09, -0.7071068, 0.7071067)
bones/8/scale = Vector3(1, 1.0000001, 1.0000001)
bones/9/position = Vector3(-0.21430668, 0.13748002, 0.026564132)
bones/9/rotation = Quaternion(-0.683273, 0.15824498, 0.47271135, 0.5335171)
bones/9/scale = Vector3(0.99999905, 0.9999985, 0.9999996)
bones/10/rotation = Quaternion(2.0358685e-08, 5.2160463e-08, 0.7061576, 0.7080547)
bones/10/scale = Vector3(1.0000008, 0.9999997, 0.9999999)
bones/11/rotation = Quaternion(-4.94615e-10, -1.4597426e-08, -0.026658095, 0.99964464)
bones/11/scale = Vector3(1.0000001, 1, 1)
bones/12/rotation = Quaternion(-0.2964039, 0.4764731, -0.06694753, 0.8250067)
bones/12/scale = Vector3(0.9999998, 0.9999999, 1.0000002)
bones/13/position = Vector3(-1.573599e-08, 0.096125126, -0.057499975)
bones/13/rotation = Quaternion(-1.0244433e-09, -4.24391e-09, 0.7071068, 0.7071067)
bones/13/scale = Vector3(1, 1.0000001, 1.0000001)
bones/14/rotation = Quaternion(-0.004537245, -0.024806429, 5.5401484e-05, 0.999682)
bones/14/scale = Vector3(1, 0.99999994, 1)
bones/15/position = Vector3(0.17094508, 0.1135872, 1.5994095e-08)
bones/15/rotation = Quaternion(0.9946062, 0.07668912, 0.06738226, 0.018355992)
bones/15/scale = Vector3(0.99999994, 0.9999997, 1.0000008)
bones/16/rotation = Quaternion(0.21131545, 7.144699e-08, -1.3975817e-07, 0.977418)
bones/16/scale = Vector3(1.0000004, 0.9999999, 0.99999994)
bones/17/rotation = Quaternion(-0.53000736, -0.17981759, 0.044574585, 0.8275089)
bones/17/scale = Vector3(0.99999964, 1.0000006, 0.99999946)
bones/18/rotation = Quaternion(6.894693e-05, 0.9202433, -0.3913468, -1.554934e-05)
bones/18/scale = Vector3(0.99999994, 0.99999774, 1.0000024)
bones/19/position = Vector3(-0.17094508, 0.11358732, 1.557549e-08)
bones/19/rotation = Quaternion(0.99714017, -0.029236183, 0.026885418, 0.06429581)
bones/19/scale = Vector3(0.9999999, 0.99999976, 1.0000008)
bones/20/rotation = Quaternion(0.2778566, -6.237412e-08, 1.8937038e-07, 0.96062267)
bones/20/scale = Vector3(0.99999994, 0.99999976, 0.99999994)
bones/21/rotation = Quaternion(-0.5581278, 0.11452945, -0.008404373, 0.8217699)
bones/21/scale = Vector3(0.99999976, 1.0000006, 0.9999992)
bones/22/rotation = Quaternion(-7.685906e-05, 0.9201987, -0.3914517, 1.7494272e-05)
bones/22/scale = Vector3(1.0000002, 0.9999979, 1.0000024)
bones/23/rotation = Quaternion(0.7071068, -2.2930234e-07, -4.6055177e-08, 0.7071068)
bones/24/position = Vector3(0.20218208, 0.025990263, 0.20518117)
bones/24/rotation = Quaternion(-0.7071068, -7.052851e-08, -7.0528486e-08, 0.7071068)
bones/25/rotation = Quaternion(9.664464e-09, 1.780757e-09, 0.9899218, -0.14161539)
bones/26/position = Vector3(-2.6049376e-08, 0.21343614, -5.171498e-09)
bones/26/rotation = Quaternion(-1.012734e-07, 0.39108434, 0.92035484, -3.3509146e-08)
bones/26/scale = Vector3(1, 0.99999994, 0.9999999)
bones/27/position = Vector3(8.589881e-09, 0.16565004, -2.4096307e-09)
bones/27/scale = Vector3(1, 0.99999994, 1)
bones/28/rotation = Quaternion(1, -2.3313629e-09, 1.9977652e-07, -1.3421114e-15)
bones/28/scale = Vector3(1, 1.0000001, 0.99999994)
bones/29/rotation = Quaternion(4.1633502e-17, -6.740978e-17, -1.9466935e-08, 1)
bones/30/rotation = Quaternion(0.7071068, -3.823849e-08, 1.4500867e-07, 0.7071068)
bones/31/rotation = Quaternion(-0.7071068, -7.0528515e-08, -7.05285e-08, 0.7071068)
bones/32/rotation = Quaternion(-5.8358944e-09, 6.4383693e-10, 0.9948094, 0.10175614)
bones/33/position = Vector3(-1.114822e-08, 0.21343614, -2.5094192e-15)
bones/33/rotation = Quaternion(-1.05795515e-07, 0.39108434, 0.92035484, -2.5864264e-08)
bones/33/scale = Vector3(1.0000001, 1, 0.9999999)
bones/34/position = Vector3(-6.3112755e-09, 0.16565004, 2.7069498e-09)
bones/34/rotation = Quaternion(-0.39108434, -6.739311e-08, -6.2200165e-08, 0.92035484)
bones/34/scale = Vector3(1.0000001, 1, 1)
bones/35/rotation = Quaternion(1, 3.7652574e-09, 1.9487908e-07, 7.4505815e-09)
bones/35/scale = Vector3(0.99999994, 1, 0.99999994)
bones/36/rotation = Quaternion(1.00614094e-16, -6.7409847e-17, -1.574163e-08, 1)
bones/36/scale = Vector3(1.0000001, 1, 1)
bones/37/position = Vector3(0.45350748, 0.9692304, -0.5732725)
bones/37/rotation = Quaternion(-0.7071068, -7.279511e-08, -7.279509e-08, 0.7071068)
bones/38/position = Vector3(0.51809007, 0.94893426, 0.05702944)
bones/38/rotation = Quaternion(0.71801025, 0.26009035, 0.548563, 0.34043062)
bones/39/position = Vector3(-0.45350718, 0.9692304, -0.57327276)
bones/39/rotation = Quaternion(-0.7071068, -7.279511e-08, -7.279509e-08, 0.7071068)
bones/40/position = Vector3(-0.51176053, 0.93439496, 0.1206509)
bones/40/rotation = Quaternion(-0.68514335, 0.27931023, 0.5890998, -0.3248475)
bones/40/scale = Vector3(1, 1.0000001, 1)

[node name="Skeleton_Minion_ArmLeft" parent="Skeleton_Minion/Rig/Skeleton3D" index="0"]
layers = 2

[node name="Skeleton_Minion_ArmRight" parent="Skeleton_Minion/Rig/Skeleton3D" index="1"]
layers = 2

[node name="Skeleton_Minion_Body" parent="Skeleton_Minion/Rig/Skeleton3D" index="2"]
layers = 2

[node name="Skeleton_Minion_Cloak" parent="Skeleton_Minion/Rig/Skeleton3D" index="3"]
layers = 2

[node name="Skeleton_Minion_Eyes" parent="Skeleton_Minion/Rig/Skeleton3D" index="4"]
layers = 2

[node name="Skeleton_Minion_Head" parent="Skeleton_Minion/Rig/Skeleton3D" index="5"]
layers = 2

[node name="Skeleton_Minion_Jaw" parent="Skeleton_Minion/Rig/Skeleton3D" index="6"]
layers = 2

[node name="Skeleton_Minion_LegLeft" parent="Skeleton_Minion/Rig/Skeleton3D" index="7"]
layers = 2

[node name="Skeleton_Minion_LegRight" parent="Skeleton_Minion/Rig/Skeleton3D" index="8"]
layers = 2

[node name="ZeldaFire" type="Node3D" parent="." index="12"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9507835, 0)
visible = false

[node name="Smoke" type="GPUParticles3D" parent="ZeldaFire" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 3.55271e-15, 0, 0, 1, 0, 0, 0)
material_override = SubResource("ShaderMaterial_3w20v")
ignore_occlusion_culling = true
amount = 20
lifetime = 1.6
randomness = 0.07
fixed_fps = 60
process_material = SubResource("ParticleProcessMaterial_kllo2")
draw_pass_1 = SubResource("QuadMesh_1ddtj")

[node name="Ember" type="GPUParticles3D" parent="ZeldaFire" index="1"]
material_override = SubResource("ShaderMaterial_sbvf7")
amount = 50
lifetime = 3.0
randomness = 0.23
process_material = SubResource("ParticleProcessMaterial_pofti")
draw_pass_1 = SubResource("QuadMesh_go1c0")

[node name="OmniLight3D" type="OmniLight3D" parent="ZeldaFire" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0561353, 0)
light_color = Color(1, 0.603922, 0, 1)
light_energy = 8.94
light_volumetric_fog_energy = 4.446
light_specular = 0.992
light_cull_mask = 4294967293
omni_range = 3.0

[node name="RedBeamImpact" parent="." index="13" instance=ExtResource("8_8woa4")]

[node name="ElementalArea" type="Area3D" parent="." index="14"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.9931407, 0)
script = ExtResource("9_6fhoe")
metadata/_custom_type_script = "uid://bmxiv2l1dkflu"

[node name="CollisionShape3D" type="CollisionShape3D" parent="ElementalArea" index="0"]
shape = SubResource("SphereShape3D_w46aa")

[node name="Explosion" type="AudioStreamPlayer" parent="." index="15"]
stream = ExtResource("9_dvjrj")
volume_db = -10.0
pitch_scale = 0.8
bus = &"SFX"

[node name="Charge" type="AudioStreamPlayer" parent="." index="16"]
stream = ExtResource("10_rdach")
volume_db = -15.0
bus = &"SFX"

[editable path="Skeleton_Minion"]
