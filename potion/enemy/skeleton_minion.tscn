[gd_scene load_steps=14 format=3 uid="uid://b6oe0nxhrpwln"]

[ext_resource type="PackedScene" uid="uid://bbpop2ylo0vfo" path="res://potion/enemy/skeleton.tscn" id="1_40km2"]
[ext_resource type="Script" uid="uid://cuspqvicid1n2" path="res://util/hit_box.gd" id="2_26fy3"]
[ext_resource type="PackedScene" uid="uid://br0fd5nnfheb2" path="res://assets/skeletons/gltf/Skeleton_Minion.glb" id="3_beogp"]
[ext_resource type="AudioStream" uid="uid://dmal5akb42l01" path="res://assets/sound/sfx/小パンチ.mp3" id="4_rblvq"]
[ext_resource type="Script" uid="uid://bvtmvfhj8hn36" path="res://util/randomized_loop_sfx.gd" id="5_kqjt3"]

[sub_resource type="BoxShape3D" id="BoxShape3D_rajcq"]
size = Vector3(1, 1.4606934, 0.6422119)

[sub_resource type="Animation" id="Animation_rkmq4"]
resource_name = "attack0"
tracks/0/type = "animation"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": PackedStringArray("1H_Melee_Attack_Chop"),
"times": PackedFloat32Array(0)
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../HitBox")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.6),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"hit"
}]
}

[sub_resource type="Animation" id="Animation_xtrx3"]
resource_name = "attack1"
tracks/0/type = "animation"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": PackedStringArray("1H_Melee_Attack_Jump_Chop"),
"times": PackedFloat32Array(0)
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../HitBox")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.6),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"hit"
}]
}

[sub_resource type="Animation" id="Animation_dae3u"]
resource_name = "attack2"
tracks/0/type = "animation"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": PackedStringArray("1H_Melee_Attack_Slice_Diagonal"),
"times": PackedFloat32Array(0)
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../HitBox")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.46666667),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"hit"
}]
}

[sub_resource type="Animation" id="Animation_ks0va"]
resource_name = "death"
length = 2.0
tracks/0/type = "animation"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": PackedStringArray("Death_C_Skeletons"),
"times": PackedFloat32Array(0.033333335)
}

[sub_resource type="Animation" id="Animation_imncs"]
resource_name = "knockback"
length = 0.9
tracks/0/type = "animation"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": PackedStringArray("Hit_B"),
"times": PackedFloat32Array(0.033333335)
}

[sub_resource type="Animation" id="Animation_pg0n3"]
resource_name = "move"
length = 1.6
loop_mode = 1
tracks/0/type = "animation"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimationPlayer")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"clips": PackedStringArray("Walking_D_Skeletons"),
"times": PackedFloat32Array(0)
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_xtrx3"]
_data = {
&"attack0": SubResource("Animation_rkmq4"),
&"attack1": SubResource("Animation_xtrx3"),
&"attack2": SubResource("Animation_dae3u"),
&"death": SubResource("Animation_ks0va"),
&"knockback": SubResource("Animation_imncs"),
&"move": SubResource("Animation_pg0n3")
}

[node name="Minion" instance=ExtResource("1_40km2")]
speed = 0.8

[node name="HitBox" type="Area3D" parent="." index="0" node_paths=PackedStringArray("hit_sound")]
transform = Transform3D(-1, 0, -8.742279e-08, 0, 1, 0, 8.742279e-08, 0, -1, -3.5458186e-08, 0.8815528, -0.7548276)
collision_layer = 0
collision_mask = 16
script = ExtResource("2_26fy3")
damage = 3.0
hit_sound = NodePath("../Hit")
metadata/_custom_type_script = "uid://cuspqvicid1n2"

[node name="CollisionShape3D" type="CollisionShape3D" parent="HitBox" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.5527137e-15, 0, 0.08331299)
shape = SubResource("BoxShape3D_rajcq")

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="1"]
root_node = NodePath("../Skeleton_Minion")
libraries = {
&"": SubResource("AnimationLibrary_xtrx3")
}

[node name="Skeleton_Minion" parent="." index="2" instance=ExtResource("3_beogp")]
transform = Transform3D(-0.8, 0, -6.9938224e-08, 0, 0.8, 0, 6.9938224e-08, 0, -0.8, 0, 0, 0)

[node name="Skeleton3D" parent="Skeleton_Minion/Rig" index="0"]
bones/1/position = Vector3(4.8144033e-10, 0.4698575, -0.0020193073)
bones/1/rotation = Quaternion(-0.03708686, -0.04537031, 0.008324133, 0.9982469)
bones/1/scale = Vector3(0.99999994, 1, 0.99999994)
bones/2/rotation = Quaternion(-0.023685703, -0.11152536, 0.0075823083, 0.9934504)
bones/2/scale = Vector3(1.0000001, 1, 1.0000001)
bones/3/rotation = Quaternion(-0.022272028, -0.0013303363, 0.010495117, 0.999696)
bones/3/scale = Vector3(1, 0.9999999, 1)
bones/4/position = Vector3(0.21200736, 0.13413203, 7.9299625e-08)
bones/4/rotation = Quaternion(-0.6662628, 0.025392052, -0.53705215, 0.5167437)
bones/4/scale = Vector3(0.9999991, 0.9999986, 0.9999996)
bones/5/rotation = Quaternion(1.4674351e-08, -6.004136e-08, -0.42047405, 0.9073046)
bones/5/scale = Vector3(1.0000006, 0.99999946, 1)
bones/6/rotation = Quaternion(1.44633185e-08, 1.2667185e-08, 0.026658092, 0.99964464)
bones/6/scale = Vector3(0.99999994, 1, 1)
bones/7/rotation = Quaternion(-0.37758496, -0.11768901, 0.10038245, 0.9129635)
bones/7/scale = Vector3(0.9999998, 0.99999976, 1.0000004)
bones/8/position = Vector3(8.348433e-10, 0.096125185, -0.057500035)
bones/8/rotation = Quaternion(-3.6586003e-09, 6.8781096e-09, -0.7071068, 0.7071067)
bones/8/scale = Vector3(1, 1.0000001, 1.0000001)
bones/9/position = Vector3(-0.21200737, 0.13413203, 8.6813984e-08)
bones/9/rotation = Quaternion(-0.5991802, 0.4283519, 0.6710869, 0.084498696)
bones/9/scale = Vector3(0.99999905, 0.9999985, 0.9999996)
bones/10/rotation = Quaternion(3.917657e-08, 5.4872693e-08, 0.4377263, 0.8991083)
bones/10/scale = Vector3(1.0000008, 0.9999997, 0.9999999)
bones/11/rotation = Quaternion(-4.94615e-10, -1.4597426e-08, -0.026658095, 0.99964464)
bones/11/scale = Vector3(1.0000001, 1, 1)
bones/12/rotation = Quaternion(-0.27495998, 0.35383415, -0.041979793, 0.89299285)
bones/12/scale = Vector3(0.9999998, 0.9999999, 1.0000002)
bones/13/position = Vector3(-1.573599e-08, 0.096125126, -0.057499975)
bones/13/rotation = Quaternion(-0.0028401944, 0.002612668, 0.7252859, 0.688437)
bones/13/scale = Vector3(1, 1.0000001, 1.0000001)
bones/14/rotation = Quaternion(-0.000684544, 0.17261782, -0.0415403, 0.9841123)
bones/14/scale = Vector3(1, 0.99999994, 1)
bones/15/position = Vector3(0.17094508, 0.1135872, 1.5994095e-08)
bones/15/rotation = Quaternion(0.9875654, 0.025405986, -0.029635992, -0.15228574)
bones/15/scale = Vector3(0.9999998, 0.9999997, 1.000001)
bones/16/rotation = Quaternion(0.0019765797, 7.040369e-08, -8.831941e-10, 0.9999981)
bones/16/scale = Vector3(1.0000004, 0.9999998, 0.99999994)
bones/17/rotation = Quaternion(-0.35390452, -0.27240318, -0.025250109, 0.89437723)
bones/17/scale = Vector3(0.9999998, 1.0000011, 0.9999993)
bones/18/rotation = Quaternion(-0.017189076, 0.8984374, -0.4386258, 0.011052922)
bones/18/scale = Vector3(1, 0.9999973, 1.0000023)
bones/19/position = Vector3(-0.17094508, 0.11358732, 1.557549e-08)
bones/19/rotation = Quaternion(0.9974742, -0.029734757, -0.05757638, -0.029085994)
bones/19/scale = Vector3(0.9999999, 0.99999976, 1.0000008)
bones/20/rotation = Quaternion(0.0019832554, -6.738048e-08, 3.7180419e-09, 0.9999981)
bones/20/scale = Vector3(0.99999994, 0.99999976, 0.99999994)
bones/21/rotation = Quaternion(-0.29903075, 0.1156936, 0.0179792, 0.9470334)
bones/21/scale = Vector3(0.99999976, 1.0000006, 0.9999992)
bones/22/rotation = Quaternion(0.002946537, 0.9101293, -0.4143093, -0.0019245865)
bones/22/scale = Vector3(1.0000002, 0.9999979, 1.0000024)
bones/23/rotation = Quaternion(0.7071068, -2.2930234e-07, -4.6055177e-08, 0.7071068)
bones/24/position = Vector3(0.21391787, 0.025990263, 0.17386575)
bones/24/rotation = Quaternion(-0.70509243, 0.05333549, 0.05333548, 0.70509243)
bones/25/rotation = Quaternion(9.6579225e-09, 1.7795515e-09, 0.98571914, -0.1683977)
bones/26/position = Vector3(-1.1148217e-08, 0.21343614, -5.3634723e-09)
bones/26/rotation = Quaternion(-1.1096062e-07, 0.39108434, 0.92035484, -2.6791865e-08)
bones/26/scale = Vector3(0.99999994, 0.9999999, 0.9999999)
bones/27/position = Vector3(-6.3112795e-09, 0.16565004, -7.102669e-09)
bones/27/scale = Vector3(1, 0.99999994, 1)
bones/28/rotation = Quaternion(1, -8.2736366e-11, 1.9462742e-07, -7.450581e-09)
bones/28/scale = Vector3(0.99999994, 1, 0.99999994)
bones/29/rotation = Quaternion(5.551129e-17, -6.740978e-17, -1.9466935e-08, 1)
bones/30/rotation = Quaternion(0.7071068, -3.823849e-08, 1.4500867e-07, 0.7071068)
bones/31/rotation = Quaternion(-0.7071068, -7.0528515e-08, -7.05285e-08, 0.7071068)
bones/32/rotation = Quaternion(-5.8358944e-09, 6.4383693e-10, 0.9948094, 0.10175614)
bones/33/position = Vector3(-1.114822e-08, 0.21343614, -2.5094192e-15)
bones/33/rotation = Quaternion(-1.05795515e-07, 0.39108434, 0.92035484, -2.5864264e-08)
bones/33/scale = Vector3(1.0000001, 1, 0.9999999)
bones/34/position = Vector3(-6.3112755e-09, 0.16565004, 2.7069498e-09)
bones/34/rotation = Quaternion(-0.39108434, -6.739311e-08, -6.2200165e-08, 0.92035484)
bones/34/scale = Vector3(1.0000001, 1, 1)
bones/35/rotation = Quaternion(1, 3.7652574e-09, 1.9487908e-07, 7.4505815e-09)
bones/35/scale = Vector3(0.99999994, 1, 0.99999994)
bones/36/rotation = Quaternion(1.00614094e-16, -6.7409847e-17, -1.574163e-08, 1)
bones/36/scale = Vector3(1.0000001, 1, 1)
bones/37/rotation = Quaternion(-0.7071068, -7.279511e-08, -7.279509e-08, 0.7071068)
bones/38/position = Vector3(0.52373713, 0.8786758, -0.025939796)
bones/38/rotation = Quaternion(0.6661451, 0.00508718, 0.7456883, -0.013186067)
bones/39/position = Vector3(-0.45350724, 0.6771099, -0.43798962)
bones/39/rotation = Quaternion(-0.7071068, -7.279511e-08, -7.279509e-08, 0.7071068)
bones/40/position = Vector3(-0.51084375, 1.0289564, 0.15948094)
bones/40/rotation = Quaternion(-0.5849544, 0.41430557, 0.5037407, -0.48210442)
bones/40/scale = Vector3(1, 1.0000001, 1)

[node name="Hit" type="AudioStreamPlayer" parent="." index="11"]
stream = ExtResource("4_rblvq")
volume_db = -25.0
pitch_scale = 1.5
bus = &"SFX"
script = ExtResource("5_kqjt3")
min_pitch = 1.1
max_pitch = 1.5
one_shot = true

[editable path="Skeleton_Minion"]
