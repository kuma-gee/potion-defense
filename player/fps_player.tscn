[gd_scene load_steps=136 format=3 uid="uid://bjemhxyjs5ne6"]

[ext_resource type="Script" uid="uid://b4aianeydif4r" path="res://player/fps_player.gd" id="1_krq8x"]
[ext_resource type="Script" uid="uid://dvlvxhnejec1d" path="res://player/shield.gd" id="3_04f7j"]
[ext_resource type="Shader" uid="uid://d0lvh6fkw24xy" path="res://shader/shield.gdshader" id="3_7dtnb"]
[ext_resource type="Script" uid="uid://dqf4xy3u845o8" path="res://player/player_anim.gd" id="3_beoo4"]
[ext_resource type="PackedScene" uid="uid://c0487oaklc717" path="res://assets/KayKit_Adventurers_1.0_FREE/gltf/Mage.glb" id="3_p2s12"]
[ext_resource type="Texture2D" uid="uid://c65db2wraca22" path="res://assets/particles/hexagon_smooth.png" id="4_04f7j"]
[ext_resource type="Script" uid="uid://bkdqslp65jlfu" path="res://player/hand.gd" id="4_p2s12"]
[ext_resource type="Texture2D" uid="uid://ue51p6m1lno" path="res://assets/particles/T_Noise_W5i.png" id="5_0ms2b"]
[ext_resource type="Texture2D" uid="uid://da6ce7umjm28h" path="res://assets/particles/hexagon.png" id="5_04f7j"]
[ext_resource type="Material" uid="uid://ckvucuduvwgu1" path="res://player/mage.tres" id="6_beoo4"]
[ext_resource type="Script" uid="uid://eux0ef0rg11v" path="res://input/PlayerInput.gd" id="7_ubged"]
[ext_resource type="Script" uid="uid://c5hhthw0ddkit" path="res://player/ground_spring_cast.gd" id="8_ffq0p"]
[ext_resource type="Script" uid="uid://bn80he875obc8" path="res://potion/effect/status/status_effect_manager.gd" id="11_5nf5r"]
[ext_resource type="Texture2D" uid="uid://cyej73m2mqn7i" path="res://assets/particles/T_Arrow.png" id="13_5ovqi"]
[ext_resource type="Script" uid="uid://bav8mlr6l6106" path="res://util/hurtbox.gd" id="14_pnd2s"]
[ext_resource type="Shader" uid="uid://c55s46kns21a7" path="res://shader/circle_inner.gdshader" id="14_we0o2"]
[ext_resource type="PackedScene" uid="uid://cp3cr67lwt4i0" path="res://potion/enemy/utils/status.tscn" id="16_3j2dy"]
[ext_resource type="Texture2D" uid="uid://dmm2owjq5u7ve" path="res://assets/sprites/Action_Heal.png" id="17_21wd0"]
[ext_resource type="Texture2D" uid="uid://c2v2cb6gbgcfs" path="res://assets/sprites/Upgrade_WandSpeed.png" id="17_aqjxd"]
[ext_resource type="Script" uid="uid://buns64rcufm7p" path="res://player/ray_interactable.gd" id="17_r8c67"]
[ext_resource type="PackedScene" uid="uid://dtsb8nyoqgtva" path="res://potion/maps/objects/progress.tscn" id="18_21wd0"]
[ext_resource type="Script" uid="uid://b4gg3ttms2rww" path="res://potion/wands/wand_ability.gd" id="18_nky6h"]
[ext_resource type="PackedScene" uid="uid://byg2lnoey0c73" path="res://potion/items/scenes/item_popup.tscn" id="19_nky6h"]
[ext_resource type="AudioStream" uid="uid://ch2kkwcm7rk2m" path="res://assets/sound/sfx/dash.mp3" id="22_0ms2b"]
[ext_resource type="Script" uid="uid://bvtmvfhj8hn36" path="res://util/randomized_loop_sfx.gd" id="23_21ptp"]
[ext_resource type="Shader" uid="uid://ruxjv2tbu5ml" path="res://shader/wand_circle.gdshader" id="25_nmkwr"]
[ext_resource type="ArrayMesh" uid="uid://cy3yjp7gqf50v" path="res://assets/particles/shapes/sm_circular_plane1.obj" id="25_qnavn"]
[ext_resource type="Texture2D" uid="uid://1y7myn407vgc" path="res://assets/particles/T_Aurax44.jpg" id="26_oi0ss"]
[ext_resource type="Texture2D" uid="uid://bxgnddligcwqt" path="res://assets/particles/T_AuraC12.jpg" id="28_nec4x"]

[sub_resource type="Gradient" id="Gradient_0ms2b"]
offsets = PackedFloat32Array(0.5, 0.68, 0.75, 1)
colors = PackedColorArray(0, 0.255, 1, 0.016, 0, 0.255, 1, 0.106, 0.027, 0.157, 2.925, 0.31, 0.1, 0.8, 8, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_7txbf"]
gradient = SubResource("Gradient_0ms2b")

[sub_resource type="Gradient" id="Gradient_aqjxd"]
offsets = PackedFloat32Array(0.25, 1)
colors = PackedColorArray(0, 0, 0, 1, 0, 2, 5, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_2ohdo"]
gradient = SubResource("Gradient_aqjxd")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_qnavn"]
render_priority = 0
shader = ExtResource("3_7dtnb")
shader_parameter/fresnel_power = 0.2999999932944
shader_parameter/gradient_color = SubResource("GradientTexture1D_2ohdo")
shader_parameter/alpha_gradient = SubResource("GradientTexture1D_7txbf")
shader_parameter/opacity = 0.0
shader_parameter/overlay_texture = ExtResource("5_04f7j")
shader_parameter/overlay_scale = Vector2(3, 3)
shader_parameter/overlay_speed = Vector2(0, 0)
shader_parameter/overlay_strength = 0.0999999977648
shader_parameter/fade_value = 0.0
shader_parameter/fade_texture_divider = 9.999999798832
shader_parameter/fade_smooth = 0.45999998971808
shader_parameter/fade_mask = ExtResource("4_04f7j")
shader_parameter/fade_texture = ExtResource("5_0ms2b")
shader_parameter/fade_texture_scale = Vector2(1, 1)
shader_parameter/proximity_fade_distance = 1.0

[sub_resource type="SphereMesh" id="SphereMesh_nmkwr"]
radius = 1.0
height = 2.0
radial_segments = 16
rings = 8

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_p2s12"]
animation = &"Running_A"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_pnd2s"]
animation = &"Death_A"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_beoo4"]
animation = &"Death_A_Pose"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_3j2dy"]
animation = &"Spellcasting"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_0ms2b"]
animation = &"Blocking"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8xdy4"]
animation = &"Idle"

[sub_resource type="AnimationNodeOneShot" id="AnimationNodeOneShot_beoo4"]
fadein_time = 0.2
fadeout_time = 0.2

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_p2s12"]

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_pnd2s"]
xfade_time = 0.2
input_0/name = "alive"
input_0/auto_advance = false
input_0/break_loop_at_end = false
input_0/reset = true
input_1/name = "dead"
input_1/auto_advance = false
input_1/break_loop_at_end = false
input_1/reset = true
input_2/name = "casting"
input_2/auto_advance = false
input_2/break_loop_at_end = false
input_2/reset = true
input_3/name = "block"
input_3/auto_advance = false
input_3/break_loop_at_end = false
input_3/reset = true

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_p2s12"]
graph_offset = Vector2(-187, 157)
nodes/output/position = Vector2(1420, 180)
nodes/Move/node = SubResource("AnimationNodeBlend2_p2s12")
nodes/Move/position = Vector2(320, 200)
nodes/Animation/node = SubResource("AnimationNodeAnimation_8xdy4")
nodes/Animation/position = Vector2(21, 243)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_p2s12")
"nodes/Animation 2/position" = Vector2(40, 459)
"nodes/Animation 3/node" = SubResource("AnimationNodeAnimation_pnd2s")
"nodes/Animation 3/position" = Vector2(860, 520)
nodes/Death/node = SubResource("AnimationNodeOneShot_beoo4")
nodes/Death/position = Vector2(1160, 180)
nodes/State/node = SubResource("AnimationNodeTransition_pnd2s")
nodes/State/position = Vector2(780, 160)
"nodes/Animation 4/node" = SubResource("AnimationNodeAnimation_beoo4")
"nodes/Animation 4/position" = Vector2(540, 300)
"nodes/Animation 5/node" = SubResource("AnimationNodeAnimation_3j2dy")
"nodes/Animation 5/position" = Vector2(480, 500)
"nodes/Animation 6/node" = SubResource("AnimationNodeAnimation_0ms2b")
"nodes/Animation 6/position" = Vector2(500, 680)
node_connections = [&"output", 0, &"Death", &"Move", 0, &"Animation", &"Move", 1, &"Animation 2", &"Death", 0, &"State", &"Death", 1, &"Animation 3", &"State", 0, &"Move", &"State", 1, &"Animation 4", &"State", 2, &"Animation 5", &"State", 3, &"Animation 6"]

[sub_resource type="Animation" id="Animation_21ptp"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../Shield/MeshInstance3D:material_override:shader_parameter/opacity")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../Shield/MeshInstance3D:material_override:shader_parameter/fade_value")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}

[sub_resource type="Animation" id="Animation_0ms2b"]
resource_name = "shield_on"
length = 0.3
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("../Shield/MeshInstance3D:material_override:shader_parameter/opacity")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 1.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("../Shield/MeshInstance3D:material_override:shader_parameter/fade_value")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 0.999999977648]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_21ptp"]
_data = {
&"RESET": SubResource("Animation_21ptp"),
&"shield_on": SubResource("Animation_0ms2b")
}

[sub_resource type="BoxShape3D" id="BoxShape3D_pnd2s"]
size = Vector3(0.55371094, 1.2178955, 0.50097656)

[sub_resource type="VisualShaderNodeProximityFade" id="VisualShaderNodeProximityFade_3j2dy"]
default_input_values = [0, 0.2]

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_r8c67"]
parameter_name = "Proximity_Fade"
hint = 1
default_value_enabled = true
default_value = 0.2

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_21wd0"]
expanded_output_ports = [0]
input_name = "color"

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_nky6h"]
operator = 2

[sub_resource type="VisualShaderNodeClamp" id="VisualShaderNodeClamp_7dtnb"]
default_input_values = [0, Vector3(0, 0, 0), 1, Vector3(0, 0, 0), 2, Vector3(1, 1, 1)]
op_type = 4

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_04f7j"]
parameter_name = "Shadow_Max"
default_value_enabled = true
default_value = 1.0

[sub_resource type="VisualShaderNodeFresnel" id="VisualShaderNodeFresnel_0ms2b"]
default_input_values = [2, true, 3, 1.0]

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_21ptp"]
input_name = "normal"

[sub_resource type="VisualShaderNodeDotProduct" id="VisualShaderNodeDotProduct_aqjxd"]

[sub_resource type="VisualShaderNodeSmoothStep" id="VisualShaderNodeSmoothStep_qnavn"]
default_input_values = [0, Vector3(0, 0, 0), 1, Vector3(1, 1, 1), 2, Vector3(0.5, 0.5, 0.5)]
op_type = 3

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_nmkwr"]
parameter_name = "Hard_Shadow_min"
default_value_enabled = true

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_oi0ss"]
parameter_name = "Hard_Shadow_max"
default_value_enabled = true
default_value = 0.1

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_nec4x"]
parameter_name = "Shadow_Min"
default_value_enabled = true
default_value = 0.1

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_5ovqi"]
input_name = "time"

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_ico3r"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(0, 0)]
op_type = 0
operator = 2

[sub_resource type="VisualShaderNodeVec2Constant" id="VisualShaderNodeVec2Constant_hq3yw"]
constant = Vector2(0.1, 1)

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_hb0fc"]
parameter_name = "Vertex_Noise"
texture_type = 1

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_psxfs"]
expanded_output_ports = [0]
source = 5
texture_type = 1

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_berlj"]
input_name = "normal"

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_qhu0i"]
input_name = "vertex"

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_pdxtc"]

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_bwuib"]
operator = 2

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_4s5rt"]
constant = -0.6

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_vxghu"]
operator = 2

[sub_resource type="VisualShaderNodeUVFunc" id="VisualShaderNodeUVFunc_d1nr6"]

[sub_resource type="VisualShader" id="VisualShader_niibg"]
code = "shader_type spatial;
render_mode blend_mix, depth_draw_opaque, depth_test_default, cull_back, diffuse_lambert, specular_schlick_ggx, fog_disabled;

uniform sampler2D Vertex_Noise : source_color;
uniform float Proximity_Fade : hint_range(0.0, 1.0) = 0.20000000298023;
uniform sampler2D depth_tex_frg_2 : hint_depth_texture;
uniform float Hard_Shadow_min = 0.0;
uniform float Hard_Shadow_max = 0.10000000149012;
uniform float Shadow_Min = 0.10000000149012;
uniform float Shadow_Max = 1.0;



void vertex() {
// Input:3
	vec3 n_out3p0 = VERTEX;


// Input:2
	vec3 n_out2p0 = NORMAL;


// Input:10
	float n_out10p0 = TIME;


// Vector2Constant:12
	vec2 n_out12p0 = vec2(0.100000, 1.000000);


// VectorOp:11
	vec2 n_out11p0 = vec2(n_out10p0) * n_out12p0;


// UVFunc:9
	vec2 n_in9p1 = vec2(1.00000, 1.00000);
	vec2 n_out9p0 = n_out11p0 * n_in9p1 + UV;


	vec4 n_out15p0;
// Texture2D:15
	n_out15p0 = texture(Vertex_Noise, n_out9p0);
	float n_out15p1 = n_out15p0.r;


// VectorOp:8
	vec3 n_out8p0 = n_out2p0 * vec3(n_out15p1);


// FloatConstant:6
	float n_out6p0 = -0.600000;


// VectorOp:5
	vec3 n_out5p0 = n_out8p0 * vec3(n_out6p0);


// VectorOp:4
	vec3 n_out4p0 = n_out3p0 + n_out5p0;


// Output:0
	VERTEX = n_out4p0;


}

void fragment() {
// Input:3
	vec4 n_out3p0 = COLOR;
	float n_out3p4 = n_out3p0.a;


// FloatParameter:20
	float n_out20p0 = Proximity_Fade;


	float n_out2p0;
// ProximityFade:2
	{
		float __depth_tex = texture(depth_tex_frg_2, SCREEN_UV).r;
		vec4 __depth_world_pos = INV_PROJECTION_MATRIX * vec4(SCREEN_UV * 2.0 - 1.0, __depth_tex, 1.0);
		__depth_world_pos.xyz /= __depth_world_pos.w;
		n_out2p0 = clamp(1.0 - smoothstep(__depth_world_pos.z + n_out20p0, __depth_world_pos.z, VERTEX.z), 0.0, 1.0);
	}


// FloatOp:5
	float n_out5p0 = n_out3p4 * n_out2p0;


// Output:0
	ALBEDO = vec3(n_out3p0.xyz);
	ALPHA = n_out5p0;


}

void light() {
// FloatParameter:6
	float n_out6p0 = Hard_Shadow_min;


// FloatParameter:7
	float n_out7p0 = Hard_Shadow_max;


// Input:2
	vec3 n_out2p0 = NORMAL;


// Fresnel:12
	float n_in12p3 = 1.00000;
	float n_out12p0 = pow(clamp(dot(NORMAL, VIEW), 0.0, 1.0), n_in12p3);


// DotProduct:4
	float n_out4p0 = dot(n_out2p0, vec3(n_out12p0));


// SmoothStep:5
	vec3 n_out5p0 = smoothstep(vec3(n_out6p0), vec3(n_out7p0), vec3(n_out4p0));


// FloatParameter:9
	float n_out9p0 = Shadow_Min;


// FloatParameter:11
	float n_out11p0 = Shadow_Max;


// Clamp:10
	vec3 n_out10p0 = clamp(n_out5p0, vec3(n_out9p0), vec3(n_out11p0));


// Output:0
	DIFFUSE_LIGHT = n_out10p0;


}
"
flags/fog_disabled = true
nodes/vertex/0/position = Vector2(640, 160)
nodes/vertex/2/node = SubResource("VisualShaderNodeInput_berlj")
nodes/vertex/2/position = Vector2(-660, 380)
nodes/vertex/3/node = SubResource("VisualShaderNodeInput_qhu0i")
nodes/vertex/3/position = Vector2(-380, 200)
nodes/vertex/4/node = SubResource("VisualShaderNodeVectorOp_pdxtc")
nodes/vertex/4/position = Vector2(340, 200)
nodes/vertex/5/node = SubResource("VisualShaderNodeVectorOp_bwuib")
nodes/vertex/5/position = Vector2(180, 420)
nodes/vertex/6/node = SubResource("VisualShaderNodeFloatConstant_4s5rt")
nodes/vertex/6/position = Vector2(-60, 680)
nodes/vertex/8/node = SubResource("VisualShaderNodeVectorOp_vxghu")
nodes/vertex/8/position = Vector2(-295.147, 553.229)
nodes/vertex/9/node = SubResource("VisualShaderNodeUVFunc_d1nr6")
nodes/vertex/9/position = Vector2(-1240, 580)
nodes/vertex/10/node = SubResource("VisualShaderNodeInput_5ovqi")
nodes/vertex/10/position = Vector2(-1680, 400)
nodes/vertex/11/node = SubResource("VisualShaderNodeVectorOp_ico3r")
nodes/vertex/11/position = Vector2(-1400, 580)
nodes/vertex/12/node = SubResource("VisualShaderNodeVec2Constant_hq3yw")
nodes/vertex/12/position = Vector2(-1700, 780)
nodes/vertex/14/node = SubResource("VisualShaderNodeTexture2DParameter_hb0fc")
nodes/vertex/14/position = Vector2(-1160, 900)
nodes/vertex/15/node = SubResource("VisualShaderNodeTexture_psxfs")
nodes/vertex/15/position = Vector2(-780, 640)
nodes/vertex/connections = PackedInt32Array(3, 0, 4, 0, 6, 0, 5, 1, 5, 0, 4, 1, 2, 0, 8, 0, 10, 0, 11, 0, 12, 0, 11, 1, 11, 0, 9, 2, 8, 0, 5, 0, 14, 0, 15, 2, 9, 0, 15, 0, 15, 1, 8, 1, 4, 0, 0, 0)
nodes/fragment/0/position = Vector2(940, 100)
nodes/fragment/2/node = SubResource("VisualShaderNodeProximityFade_3j2dy")
nodes/fragment/2/position = Vector2(-360, 540)
nodes/fragment/3/node = SubResource("VisualShaderNodeInput_21wd0")
nodes/fragment/3/position = Vector2(-400, 340)
nodes/fragment/5/node = SubResource("VisualShaderNodeFloatOp_nky6h")
nodes/fragment/5/position = Vector2(0, 400)
nodes/fragment/20/node = SubResource("VisualShaderNodeFloatParameter_r8c67")
nodes/fragment/20/position = Vector2(-620, 640)
nodes/fragment/connections = PackedInt32Array(3, 4, 5, 0, 2, 0, 5, 1, 5, 0, 0, 1, 3, 0, 0, 0, 20, 0, 2, 0)
nodes/light/0/position = Vector2(1100, 260)
nodes/light/2/node = SubResource("VisualShaderNodeInput_21ptp")
nodes/light/2/position = Vector2(-60, 220)
nodes/light/4/node = SubResource("VisualShaderNodeDotProduct_aqjxd")
nodes/light/4/position = Vector2(280, 300)
nodes/light/5/node = SubResource("VisualShaderNodeSmoothStep_qnavn")
nodes/light/5/position = Vector2(560, 40)
nodes/light/6/node = SubResource("VisualShaderNodeFloatParameter_nmkwr")
nodes/light/6/position = Vector2(200, -160)
nodes/light/7/node = SubResource("VisualShaderNodeFloatParameter_oi0ss")
nodes/light/7/position = Vector2(200, 80)
nodes/light/9/node = SubResource("VisualShaderNodeFloatParameter_nec4x")
nodes/light/9/position = Vector2(500, 240)
nodes/light/10/node = SubResource("VisualShaderNodeClamp_7dtnb")
nodes/light/10/position = Vector2(840, 200)
nodes/light/11/node = SubResource("VisualShaderNodeFloatParameter_04f7j")
nodes/light/11/position = Vector2(520, 460)
nodes/light/12/node = SubResource("VisualShaderNodeFresnel_0ms2b")
nodes/light/12/position = Vector2(-60, 380)
nodes/light/connections = PackedInt32Array(2, 0, 4, 0, 6, 0, 5, 0, 7, 0, 5, 1, 9, 0, 10, 1, 11, 0, 10, 2, 10, 0, 0, 0, 5, 0, 10, 0, 4, 0, 5, 2, 12, 0, 4, 1)

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_46n0n"]
load_path = "res://.godot/imported/T_PerlinNoise_Tiled.png-5bdfe46d6a6ac1845170a2615fed26d7.s3tc.ctex"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_lpa3x"]
render_priority = 0
shader = SubResource("VisualShader_niibg")
shader_parameter/Vertex_Noise = SubResource("CompressedTexture2D_46n0n")
shader_parameter/Proximity_Fade = 0.5
shader_parameter/Hard_Shadow_min = 0.0
shader_parameter/Hard_Shadow_max = 0.1
shader_parameter/Shadow_Min = 0.1
shader_parameter/Shadow_Max = 1.0

[sub_resource type="Curve" id="Curve_db37l"]
_data = [Vector2(0.521739, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_gwg25"]
texture_mode = 1
curve = SubResource("Curve_db37l")

[sub_resource type="Curve" id="Curve_fv7x2"]
_data = [Vector2(0, 0.3370787), 0.0, 1.9651686, 0, 0, Vector2(1, 1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_0v6dy"]
curve = SubResource("Curve_fv7x2")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_fujgw"]
particle_flag_align_y = true
emission_shape = 1
emission_sphere_radius = 0.1
angle_min = -180.0
angle_max = 180.0
direction = Vector3(0, 0.5, 1)
spread = 10.0
initial_velocity_min = 5.0
initial_velocity_max = 8.0
gravity = Vector3(0, 0, 0)
scale_min = 0.5
scale_max = 0.8
scale_curve = SubResource("CurveTexture_0v6dy")
alpha_curve = SubResource("CurveTexture_gwg25")

[sub_resource type="SphereMesh" id="SphereMesh_28623"]

[sub_resource type="VisualShaderNodeProximityFade" id="VisualShaderNodeProximityFade_ndrk1"]
default_input_values = [0, 0.2]

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_olpkq"]
parameter_name = "Proximity_Fade"
hint = 1
default_value_enabled = true
default_value = 0.2

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_8doc2"]
expanded_output_ports = [0]
input_name = "color"

[sub_resource type="VisualShaderNodeFloatOp" id="VisualShaderNodeFloatOp_8i6si"]
operator = 2

[sub_resource type="VisualShaderNodeClamp" id="VisualShaderNodeClamp_tou46"]
default_input_values = [0, Vector3(0, 0, 0), 1, Vector3(0, 0, 0), 2, Vector3(1, 1, 1)]
op_type = 4

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_3ggsc"]
parameter_name = "Shadow_Max"
default_value_enabled = true
default_value = 1.0

[sub_resource type="VisualShaderNodeFresnel" id="VisualShaderNodeFresnel_1pl7j"]
default_input_values = [2, true, 3, 1.0]

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_aucng"]
input_name = "normal"

[sub_resource type="VisualShaderNodeDotProduct" id="VisualShaderNodeDotProduct_m0wnt"]

[sub_resource type="VisualShaderNodeSmoothStep" id="VisualShaderNodeSmoothStep_nggop"]
default_input_values = [0, Vector3(0, 0, 0), 1, Vector3(1, 1, 1), 2, Vector3(0.5, 0.5, 0.5)]
op_type = 3

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_a8jxq"]
parameter_name = "Hard_Shadow_min"
default_value_enabled = true

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_vtyx4"]
parameter_name = "Hard_Shadow_max"
default_value_enabled = true
default_value = 0.1

[sub_resource type="VisualShaderNodeFloatParameter" id="VisualShaderNodeFloatParameter_dd2u8"]
parameter_name = "Shadow_Min"
default_value_enabled = true
default_value = 0.1

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_j0yxm"]
input_name = "time"

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_0myky"]
default_input_values = [0, Vector2(0, 0), 1, Vector2(0, 0)]
op_type = 0
operator = 2

[sub_resource type="VisualShaderNodeVec2Constant" id="VisualShaderNodeVec2Constant_gmai2"]
constant = Vector2(0.1, 1)

[sub_resource type="VisualShaderNodeTexture2DParameter" id="VisualShaderNodeTexture2DParameter_jhovd"]
parameter_name = "Vertex_Noise"
texture_type = 1

[sub_resource type="VisualShaderNodeTexture" id="VisualShaderNodeTexture_ll5ty"]
expanded_output_ports = [0]
source = 5
texture_type = 1

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_yqbyi"]
input_name = "normal"

[sub_resource type="VisualShaderNodeInput" id="VisualShaderNodeInput_wg6hj"]
input_name = "vertex"

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_fxfan"]

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_mjg7y"]
operator = 2

[sub_resource type="VisualShaderNodeFloatConstant" id="VisualShaderNodeFloatConstant_xp2hj"]
constant = -0.6

[sub_resource type="VisualShaderNodeVectorOp" id="VisualShaderNodeVectorOp_2ln1s"]
operator = 2

[sub_resource type="VisualShaderNodeUVFunc" id="VisualShaderNodeUVFunc_2nbrv"]

[sub_resource type="VisualShader" id="VisualShader_kqxfr"]
code = "shader_type spatial;
render_mode blend_mix, depth_draw_opaque, depth_test_default, cull_back, diffuse_lambert, specular_schlick_ggx, fog_disabled;

uniform sampler2D Vertex_Noise : source_color;
uniform float Proximity_Fade : hint_range(0.0, 1.0) = 0.20000000298023;
uniform sampler2D depth_tex_frg_2 : hint_depth_texture;
uniform float Hard_Shadow_min = 0.0;
uniform float Hard_Shadow_max = 0.10000000149012;
uniform float Shadow_Min = 0.10000000149012;
uniform float Shadow_Max = 1.0;



void vertex() {
// Input:3
	vec3 n_out3p0 = VERTEX;


// Input:2
	vec3 n_out2p0 = NORMAL;


// Input:10
	float n_out10p0 = TIME;


// Vector2Constant:12
	vec2 n_out12p0 = vec2(0.100000, 1.000000);


// VectorOp:11
	vec2 n_out11p0 = vec2(n_out10p0) * n_out12p0;


// UVFunc:9
	vec2 n_in9p1 = vec2(1.00000, 1.00000);
	vec2 n_out9p0 = n_out11p0 * n_in9p1 + UV;


	vec4 n_out15p0;
// Texture2D:15
	n_out15p0 = texture(Vertex_Noise, n_out9p0);
	float n_out15p1 = n_out15p0.r;


// VectorOp:8
	vec3 n_out8p0 = n_out2p0 * vec3(n_out15p1);


// FloatConstant:6
	float n_out6p0 = -0.600000;


// VectorOp:5
	vec3 n_out5p0 = n_out8p0 * vec3(n_out6p0);


// VectorOp:4
	vec3 n_out4p0 = n_out3p0 + n_out5p0;


// Output:0
	VERTEX = n_out4p0;


}

void fragment() {
// Input:3
	vec4 n_out3p0 = COLOR;
	float n_out3p4 = n_out3p0.a;


// FloatParameter:20
	float n_out20p0 = Proximity_Fade;


	float n_out2p0;
// ProximityFade:2
	{
		float __depth_tex = texture(depth_tex_frg_2, SCREEN_UV).r;
		vec4 __depth_world_pos = INV_PROJECTION_MATRIX * vec4(SCREEN_UV * 2.0 - 1.0, __depth_tex, 1.0);
		__depth_world_pos.xyz /= __depth_world_pos.w;
		n_out2p0 = clamp(1.0 - smoothstep(__depth_world_pos.z + n_out20p0, __depth_world_pos.z, VERTEX.z), 0.0, 1.0);
	}


// FloatOp:5
	float n_out5p0 = n_out3p4 * n_out2p0;


// Output:0
	ALBEDO = vec3(n_out3p0.xyz);
	ALPHA = n_out5p0;


}

void light() {
// FloatParameter:6
	float n_out6p0 = Hard_Shadow_min;


// FloatParameter:7
	float n_out7p0 = Hard_Shadow_max;


// Input:2
	vec3 n_out2p0 = NORMAL;


// Fresnel:12
	float n_in12p3 = 1.00000;
	float n_out12p0 = pow(clamp(dot(NORMAL, VIEW), 0.0, 1.0), n_in12p3);


// DotProduct:4
	float n_out4p0 = dot(n_out2p0, vec3(n_out12p0));


// SmoothStep:5
	vec3 n_out5p0 = smoothstep(vec3(n_out6p0), vec3(n_out7p0), vec3(n_out4p0));


// FloatParameter:9
	float n_out9p0 = Shadow_Min;


// FloatParameter:11
	float n_out11p0 = Shadow_Max;


// Clamp:10
	vec3 n_out10p0 = clamp(n_out5p0, vec3(n_out9p0), vec3(n_out11p0));


// Output:0
	DIFFUSE_LIGHT = n_out10p0;


}
"
flags/fog_disabled = true
nodes/vertex/0/position = Vector2(640, 160)
nodes/vertex/2/node = SubResource("VisualShaderNodeInput_yqbyi")
nodes/vertex/2/position = Vector2(-660, 380)
nodes/vertex/3/node = SubResource("VisualShaderNodeInput_wg6hj")
nodes/vertex/3/position = Vector2(-380, 200)
nodes/vertex/4/node = SubResource("VisualShaderNodeVectorOp_fxfan")
nodes/vertex/4/position = Vector2(340, 200)
nodes/vertex/5/node = SubResource("VisualShaderNodeVectorOp_mjg7y")
nodes/vertex/5/position = Vector2(180, 420)
nodes/vertex/6/node = SubResource("VisualShaderNodeFloatConstant_xp2hj")
nodes/vertex/6/position = Vector2(-60, 680)
nodes/vertex/8/node = SubResource("VisualShaderNodeVectorOp_2ln1s")
nodes/vertex/8/position = Vector2(-295.147, 553.229)
nodes/vertex/9/node = SubResource("VisualShaderNodeUVFunc_2nbrv")
nodes/vertex/9/position = Vector2(-1240, 580)
nodes/vertex/10/node = SubResource("VisualShaderNodeInput_j0yxm")
nodes/vertex/10/position = Vector2(-1680, 400)
nodes/vertex/11/node = SubResource("VisualShaderNodeVectorOp_0myky")
nodes/vertex/11/position = Vector2(-1400, 580)
nodes/vertex/12/node = SubResource("VisualShaderNodeVec2Constant_gmai2")
nodes/vertex/12/position = Vector2(-1700, 780)
nodes/vertex/14/node = SubResource("VisualShaderNodeTexture2DParameter_jhovd")
nodes/vertex/14/position = Vector2(-1160, 900)
nodes/vertex/15/node = SubResource("VisualShaderNodeTexture_ll5ty")
nodes/vertex/15/position = Vector2(-780, 640)
nodes/vertex/connections = PackedInt32Array(3, 0, 4, 0, 6, 0, 5, 1, 5, 0, 4, 1, 2, 0, 8, 0, 10, 0, 11, 0, 12, 0, 11, 1, 11, 0, 9, 2, 8, 0, 5, 0, 14, 0, 15, 2, 9, 0, 15, 0, 15, 1, 8, 1, 4, 0, 0, 0)
nodes/fragment/0/position = Vector2(940, 100)
nodes/fragment/2/node = SubResource("VisualShaderNodeProximityFade_ndrk1")
nodes/fragment/2/position = Vector2(-360, 540)
nodes/fragment/3/node = SubResource("VisualShaderNodeInput_8doc2")
nodes/fragment/3/position = Vector2(-400, 340)
nodes/fragment/5/node = SubResource("VisualShaderNodeFloatOp_8i6si")
nodes/fragment/5/position = Vector2(0, 400)
nodes/fragment/20/node = SubResource("VisualShaderNodeFloatParameter_olpkq")
nodes/fragment/20/position = Vector2(-620, 640)
nodes/fragment/connections = PackedInt32Array(3, 4, 5, 0, 2, 0, 5, 1, 5, 0, 0, 1, 3, 0, 0, 0, 20, 0, 2, 0)
nodes/light/0/position = Vector2(1100, 260)
nodes/light/2/node = SubResource("VisualShaderNodeInput_aucng")
nodes/light/2/position = Vector2(-60, 220)
nodes/light/4/node = SubResource("VisualShaderNodeDotProduct_m0wnt")
nodes/light/4/position = Vector2(280, 300)
nodes/light/5/node = SubResource("VisualShaderNodeSmoothStep_nggop")
nodes/light/5/position = Vector2(560, 40)
nodes/light/6/node = SubResource("VisualShaderNodeFloatParameter_a8jxq")
nodes/light/6/position = Vector2(200, -160)
nodes/light/7/node = SubResource("VisualShaderNodeFloatParameter_vtyx4")
nodes/light/7/position = Vector2(200, 80)
nodes/light/9/node = SubResource("VisualShaderNodeFloatParameter_dd2u8")
nodes/light/9/position = Vector2(500, 240)
nodes/light/10/node = SubResource("VisualShaderNodeClamp_tou46")
nodes/light/10/position = Vector2(840, 200)
nodes/light/11/node = SubResource("VisualShaderNodeFloatParameter_3ggsc")
nodes/light/11/position = Vector2(520, 460)
nodes/light/12/node = SubResource("VisualShaderNodeFresnel_1pl7j")
nodes/light/12/position = Vector2(-60, 380)
nodes/light/connections = PackedInt32Array(2, 0, 4, 0, 6, 0, 5, 0, 7, 0, 5, 1, 9, 0, 10, 1, 11, 0, 10, 2, 10, 0, 0, 0, 5, 0, 10, 0, 4, 0, 5, 2, 12, 0, 4, 1)

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_1we3d"]
load_path = "res://.godot/imported/T_PerlinNoise_Tiled.png-5bdfe46d6a6ac1845170a2615fed26d7.s3tc.ctex"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_rh3oj"]
render_priority = 0
shader = SubResource("VisualShader_kqxfr")
shader_parameter/Vertex_Noise = SubResource("CompressedTexture2D_1we3d")
shader_parameter/Proximity_Fade = 0.5
shader_parameter/Hard_Shadow_min = 0.0
shader_parameter/Hard_Shadow_max = 0.1
shader_parameter/Shadow_Min = 0.1
shader_parameter/Shadow_Max = 1.0

[sub_resource type="Curve" id="Curve_1cwsg"]
_data = [Vector2(0.521739, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_sto32"]
texture_mode = 1
curve = SubResource("Curve_1cwsg")

[sub_resource type="Curve" id="Curve_xmnhf"]
_data = [Vector2(0, 1), 0.0, -0.269462, 0, 0, Vector2(1, 0.290348), -2.310479, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_455ah"]
curve = SubResource("Curve_xmnhf")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_vnpnf"]
particle_flag_align_y = true
emission_shape = 1
emission_sphere_radius = 0.1
angle_min = -180.0
angle_max = 180.0
direction = Vector3(0, 0.2, 0.8)
spread = 10.0
initial_velocity_min = 1.0
initial_velocity_max = 2.0
gravity = Vector3(0, 0, 0)
scale_min = 0.19999999
scale_max = 0.39999998
scale_curve = SubResource("CurveTexture_455ah")
alpha_curve = SubResource("CurveTexture_sto32")

[sub_resource type="SphereMesh" id="SphereMesh_7dtnb"]

[sub_resource type="BoxShape3D" id="BoxShape3D_5nf5r"]
size = Vector3(0.8203125, 1.7600098, 0.7774658)

[sub_resource type="SphereShape3D" id="SphereShape3D_pnd2s"]
radius = 0.3498151

[sub_resource type="SceneReplicationConfig" id="SceneReplicationConfig_t1bxn"]
properties/0/path = NodePath(".:global_position")
properties/0/spawn = true
properties/0/replication_mode = 1
properties/1/path = NodePath(".:global_rotation")
properties/1/spawn = true
properties/1/replication_mode = 1
properties/2/path = NodePath("CameraRoot:rotation")
properties/2/spawn = true
properties/2/replication_mode = 1
properties/3/path = NodePath("CameraRoot/SpotLight3D:light_energy")
properties/3/spawn = true
properties/3/replication_mode = 2

[sub_resource type="ViewportTexture" id="ViewportTexture_7dtnb"]
viewport_path = NodePath("SubViewport")

[sub_resource type="ViewportTexture" id="ViewportTexture_we0o2"]
viewport_path = NodePath("ColorRing/SubViewport")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_0ms2b"]
shader = ExtResource("14_we0o2")
shader_parameter/radius = 0.38000001805
shader_parameter/inner_radius = 0.0
shader_parameter/fill = 0.0
shader_parameter/blur = 0.009999999747
shader_parameter/bg_color = Color(1, 1, 1, 0)
shader_parameter/inner_color = Color(1, 1, 1, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_l7of8"]
shader = ExtResource("14_we0o2")
shader_parameter/radius = 0.550000026125
shader_parameter/inner_radius = 0.400000019
shader_parameter/fill = 1.0
shader_parameter/blur = 0.009999999747
shader_parameter/bg_color = Color(0, 0, 0, 1)
shader_parameter/inner_color = Color(0, 0, 0, 0)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_04f7j"]
shader = ExtResource("14_we0o2")
shader_parameter/radius = 0.638000030305
shader_parameter/inner_radius = 0.5710000271225
shader_parameter/fill = 0.0
shader_parameter/blur = 0.009999999747
shader_parameter/bg_color = Color(0, 0, 0, 0)
shader_parameter/inner_color = Color(0, 0, 0, 0)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_pnd2s"]
height = 1.3515625
radius = 0.27783203

[sub_resource type="SphereShape3D" id="SphereShape3D_r8c67"]
radius = 1.100371

[sub_resource type="ViewportTexture" id="ViewportTexture_nky6h"]
viewport_path = NodePath("SubViewport")

[sub_resource type="Gradient" id="Gradient_oi0ss"]
offsets = PackedFloat32Array(0, 0.123123124, 0.5765766, 1)
colors = PackedColorArray(0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_nec4x"]
gradient = SubResource("Gradient_oi0ss")
fill_from = Vector2(1, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_oi0ss"]
render_priority = 0
shader = ExtResource("25_nmkwr")
shader_parameter/move_color = Color(1, 1, 1, 1)
shader_parameter/circle_color = Color(0, 1, 1, 1)
shader_parameter/circle_texture = ExtResource("26_oi0ss")
shader_parameter/gradient_texture = SubResource("GradientTexture2D_nec4x")
shader_parameter/start = 0.49999996647200007
shader_parameter/end = -0.4000000134111999

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_aqjxd"]
particle_flag_rotate_y = true
angle_min = -89.99999
angle_max = 90.000015
gravity = Vector3(0, 0, 0)
scale_min = 0.16
scale_max = 0.16
color = Color(0.8175215, 0.81752115, 0.81752133, 1)

[sub_resource type="Gradient" id="Gradient_5ovqi"]
offsets = PackedFloat32Array(0, 0.16516517, 0.6516517, 1)
colors = PackedColorArray(0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_ico3r"]
gradient = SubResource("Gradient_5ovqi")
fill_from = Vector2(1, 1)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_hq3yw"]
render_priority = 0
shader = ExtResource("25_nmkwr")
shader_parameter/move_color = Color(0.69965345, 0.69965345, 0.69965345, 1)
shader_parameter/circle_color = Color(0, 1, 1, 1)
shader_parameter/circle_texture = ExtResource("28_nec4x")
shader_parameter/gradient_texture = SubResource("GradientTexture2D_ico3r")
shader_parameter/start = 0.49999996647200007
shader_parameter/end = -0.4

[node name="FPSPlayer" type="CharacterBody3D" node_paths=PackedStringArray("anim", "body", "walk_vfx", "dash_vfx", "color_ring", "revive_progress", "revive_interact", "hand", "item_texture", "catch_area", "wand_texture", "throw_dir_sprite", "hurt_box") groups=["resetable"]]
collision_layer = 2
collision_mask = 16391
script = ExtResource("1_krq8x")
push_force = 1.0
anim = NodePath("AnimationTree")
body = NodePath("CollisionShape3D")
walk_vfx = NodePath("CollisionShape3D/WalkVFX")
dash_vfx = NodePath("CollisionShape3D/DashVFX")
colors = Array[Color]([Color(1, 0, 0, 1), Color(0.10830901, 0.44832176, 0.90811163, 1), Color(0.14999998, 1, 0, 1), Color(1, 0.95, 0, 1)])
color_ring = NodePath("ColorRing/SubViewport/Ring")
revive_progress = NodePath("Progress/SubViewport/CenterContainer/Progress")
revive_interact = NodePath("RayInteractable")
hand = NodePath("CollisionShape3D/Hand")
item_texture = NodePath("ItemPopup")
catch_area = NodePath("CollisionShape3D/CatchArea")
wand_texture = NodePath("ColorRing/SubViewport/CenterContainer/Wand")
throw_dir_sprite = NodePath("CollisionShape3D/ThrowArrow")
speed = 3.0
hurt_box = NodePath("HurtBox")
knockback_resistance = 10.0

[node name="PlayerInput" type="Node" parent="."]
script = ExtResource("7_ubged")
metadata/_custom_type_script = "uid://eux0ef0rg11v"

[node name="Shield" type="Node3D" parent="." node_paths=PackedStringArray("shield_fill")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.7470919, 0.04273119)
script = ExtResource("3_04f7j")
shield_fill = NodePath("../ColorRing/SubViewport/Shield")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Shield"]
material_override = SubResource("ShaderMaterial_qnavn")
mesh = SubResource("SphereMesh_nmkwr")

[node name="RestoreDelay" type="Timer" parent="Shield"]
wait_time = 12.0
one_shot = true

[node name="WandAbility" type="Node" parent="." node_paths=PackedStringArray("cooldown_fill", "player", "active_ring")]
script = ExtResource("18_nky6h")
cooldown_fill = NodePath("../ColorRing/SubViewport/WandFill")
player = NodePath("..")
active_ring = NodePath("../WandCircle")
rotation_speed = 0.5

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../CollisionShape3D/Mage")
tree_root = SubResource("AnimationNodeBlendTree_p2s12")
anim_player = NodePath("../CollisionShape3D/Mage/AnimationPlayer")
parameters/Move/blend_amount = 0.0
parameters/Death/active = false
parameters/Death/internal_active = false
parameters/Death/request = 0
parameters/State/current_state = "alive"
parameters/State/transition_request = ""
parameters/State/current_index = 0
script = ExtResource("3_beoo4")

[node name="AnimationPlayer" type="AnimationPlayer" parent="AnimationTree"]
libraries = {
&"": SubResource("AnimationLibrary_21ptp")
}

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.72023684, 0)
shape = SubResource("BoxShape3D_pnd2s")

[node name="DashVFX" type="GPUParticles3D" parent="CollisionShape3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.732293, 0.13384533)
material_override = SubResource("ShaderMaterial_lpa3x")
emitting = false
amount = 5
lifetime = 0.3
one_shot = true
explosiveness = 0.8
process_material = SubResource("ParticleProcessMaterial_fujgw")
draw_pass_1 = SubResource("SphereMesh_28623")

[node name="WalkVFX" type="GPUParticles3D" parent="CollisionShape3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.732293, 0.13384533)
material_override = SubResource("ShaderMaterial_rh3oj")
emitting = false
amount = 4
lifetime = 0.6
explosiveness = 0.2
process_material = SubResource("ParticleProcessMaterial_vnpnf")
draw_pass_1 = SubResource("SphereMesh_7dtnb")

[node name="Mage" parent="CollisionShape3D" instance=ExtResource("3_p2s12")]
transform = Transform3D(-0.6, 0, -9.059749e-08, 0, 0.6, 0, 9.059749e-08, 0, -0.6, 0, -0.7311068, 0.13384533)

[node name="Skeleton3D" parent="CollisionShape3D/Mage/Rig" index="0"]
bones/1/position = Vector3(0, 0.36888844, 0)
bones/1/rotation = Quaternion(-1.11122625e-10, 0.043157753, 2.5724098e-09, 0.9990683)
bones/2/rotation = Quaternion(-6.938893e-18, 7.1054274e-15, 4.93038e-32, 1)
bones/3/rotation = Quaternion(8.271806e-25, 3.7252903e-09, -2.75506e-40, 1)
bones/4/position = Vector3(0.21200736, 0.13413203, 7.9299625e-08)
bones/4/rotation = Quaternion(-0.55038357, -0.057677846, -0.6431213, 0.5292885)
bones/5/rotation = Quaternion(2.2519872e-08, -6.13329e-08, -0.50690126, 0.8620042)
bones/7/rotation = Quaternion(-0.31975618, -0.33785525, 0.14565206, 0.8731525)
bones/8/position = Vector3(8.348433e-10, 0.096125185, -0.057500035)
bones/8/rotation = Quaternion(0.0013397766, 0.0013397705, -0.70217097, 0.712006)
bones/11/position = Vector3(-0.21200737, 0.13413203, 8.6813984e-08)
bones/11/rotation = Quaternion(-0.6093159, 0.07816185, 0.6180633, 0.49053317)
bones/12/rotation = Quaternion(3.2887325e-08, 5.0493945e-08, 0.52963907, 0.8482231)
bones/14/rotation = Quaternion(-0.3188418, 0.31351689, -0.22777413, 0.8649659)
bones/15/position = Vector3(-1.573599e-08, 0.096125126, -0.057499975)
bones/15/rotation = Quaternion(0.0040891985, 0.0048164735, 0.7028417, 0.7113182)
bones/18/rotation = Quaternion(-5.8060785e-11, -0.031341746, -1.880125e-09, 0.99950874)
bones/21/position = Vector3(0.17094508, 0.1135872, 1.5994095e-08)
bones/21/rotation = Quaternion(0.9894693, 0.083772264, 0.07881134, 0.087872155)
bones/22/rotation = Quaternion(0.3971836, 6.122072e-08, -2.6680866e-07, 0.9177392)
bones/23/rotation = Quaternion(-0.6226464, -0.20069112, 0.077148154, 0.7523848)
bones/24/rotation = Quaternion(-9.740654e-09, 0.9203548, -0.39108446, 7.830904e-08)
bones/25/position = Vector3(-0.17094508, 0.11358732, 1.557549e-08)
bones/25/rotation = Quaternion(0.9913043, -0.03343436, 0.029777806, 0.12373866)
bones/26/rotation = Quaternion(0.44108456, -5.774423e-08, 3.081773e-07, 0.8974656)
bones/27/rotation = Quaternion(-0.6485609, 0.11243074, -0.023556823, 0.75244486)
bones/28/rotation = Quaternion(3.035913e-08, 0.9203548, -0.39108446, -6.953383e-08)
bones/29/rotation = Quaternion(0.7071068, -2.2930234e-07, -4.6055177e-08, 0.7071068)
bones/30/position = Vector3(0.20218208, 0.025990263, 0.20518117)
bones/30/rotation = Quaternion(-0.7071068, -7.052851e-08, -7.0528486e-08, 0.7071068)
bones/31/rotation = Quaternion(9.6579225e-09, 1.7795515e-09, 0.98571914, -0.1683977)
bones/32/position = Vector3(-2.6049376e-08, 0.21343614, -5.171498e-09)
bones/32/rotation = Quaternion(-1.012734e-07, 0.39108434, 0.92035484, -3.3509146e-08)
bones/33/position = Vector3(8.589881e-09, 0.16565004, -2.4096307e-09)
bones/34/rotation = Quaternion(1, -2.3313629e-09, 1.9977652e-07, -1.3421114e-15)
bones/36/rotation = Quaternion(0.7071068, -3.823849e-08, 1.4500867e-07, 0.7071068)
bones/37/rotation = Quaternion(-0.7071068, -7.0528515e-08, -7.05285e-08, 0.7071068)
bones/38/rotation = Quaternion(-5.8358944e-09, 6.4383693e-10, 0.9948094, 0.10175614)
bones/39/position = Vector3(-1.114822e-08, 0.21343614, -2.5094192e-15)
bones/39/rotation = Quaternion(-1.05795515e-07, 0.39108434, 0.92035484, -2.5864264e-08)
bones/40/position = Vector3(-6.3112755e-09, 0.16565004, 2.7069498e-09)
bones/41/rotation = Quaternion(1, 3.7652574e-09, 1.9487908e-07, 7.4505815e-09)
bones/43/rotation = Quaternion(-0.7071068, -7.279511e-08, -7.279509e-08, 0.7071068)
bones/44/position = Vector3(0.52084064, 0.77018833, -0.057637356)
bones/44/rotation = Quaternion(0.7946267, -1.1175871e-07, 0.6070983, -5.9604645e-08)
bones/45/rotation = Quaternion(-0.7071068, -7.279511e-08, -7.279509e-08, 0.7071068)
bones/46/position = Vector3(-0.5108437, 0.7701882, 0.059736915)
bones/46/rotation = Quaternion(-0.7582528, -1.527369e-07, 0.65196073, -1.1175871e-08)

[node name="Spellbook" parent="CollisionShape3D/Mage/Rig/Skeleton3D" index="0"]
transform = Transform3D(7.305153e-08, 0.9648319, 0.2628651, -0.9998949, 0.0037895099, -0.013907326, -0.014414525, -0.26283792, 0.96473163, 0.577124, 0.6147884, 0.23842669)
visible = false

[node name="Spellbook_open" parent="CollisionShape3D/Mage/Rig/Skeleton3D" index="1"]
transform = Transform3D(7.305153e-08, 0.9648319, 0.2628651, -0.9998949, 0.0037895099, -0.013907326, -0.014414525, -0.26283792, 0.96473163, 0.5454878, 0.6164622, 0.12231988)
visible = false

[node name="1H_Wand" parent="CollisionShape3D/Mage/Rig/Skeleton3D" index="2"]
transform = Transform3D(-0.0028874897, -0.16231914, 0.9867334, 0.99992675, -0.011991906, 0.00095308316, 0.011678425, 0.9866648, 0.16234206, -0.49040917, 0.6229338, 0.107189484)
visible = false

[node name="2H_Staff" parent="CollisionShape3D/Mage/Rig/Skeleton3D" index="3"]
transform = Transform3D(-0.0028874897, -0.16231914, 0.9867334, 0.99992675, -0.011991906, 0.00095308316, 0.011678425, 0.9866648, 0.16234206, -0.49040917, 0.6229338, 0.107189484)
visible = false

[node name="Mage_Hat" parent="CollisionShape3D/Mage/Rig/Skeleton3D" index="4"]
transform = Transform3D(0.9997204, -0.0061201924, 0.022840858, 1.3934147e-09, 0.96592575, 0.25881907, -0.023646597, -0.25874674, 0.96565574, -7.484195e-09, 1.7473252, -1.02479035e-07)

[node name="Mage_Hat" parent="CollisionShape3D/Mage/Rig/Skeleton3D/Mage_Hat" index="0"]
transform = Transform3D(0.7999999, 0, -3.7252903e-09, -9.313226e-10, 0.7999998, 0, -1.8626451e-09, -2.9802322e-08, 0.7999999, 0.0014600605, 0.14409387, -0.025295258)
material_override = ExtResource("6_beoo4")

[node name="Mage_Cape" parent="CollisionShape3D/Mage/Rig/Skeleton3D" index="5"]
transform = Transform3D(0.9962748, -5.1496167e-09, 0.08623532, 5.1304343e-09, 0.99999994, 4.4407705e-10, -0.08623532, 1.8800718e-15, 0.9962748, -1.2996955e-08, 1.1790987, -1.01951365e-07)
visible = false

[node name="Mage_ArmLeft" parent="CollisionShape3D/Mage/Rig/Skeleton3D" index="6"]
material_override = ExtResource("6_beoo4")

[node name="Mage_ArmRight" parent="CollisionShape3D/Mage/Rig/Skeleton3D" index="7"]
material_override = ExtResource("6_beoo4")

[node name="Mage_Body" parent="CollisionShape3D/Mage/Rig/Skeleton3D" index="8"]
material_override = ExtResource("6_beoo4")

[node name="Mage_Head" parent="CollisionShape3D/Mage/Rig/Skeleton3D" index="9"]
material_override = ExtResource("6_beoo4")

[node name="Mage_LegLeft" parent="CollisionShape3D/Mage/Rig/Skeleton3D" index="10"]
material_override = ExtResource("6_beoo4")

[node name="Mage_LegRight" parent="CollisionShape3D/Mage/Rig/Skeleton3D" index="11"]
material_override = ExtResource("6_beoo4")

[node name="Hand" type="Area3D" parent="CollisionShape3D" node_paths=PackedStringArray("player")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.052898765, -0.74687266)
collision_layer = 0
collision_mask = 32768
script = ExtResource("4_p2s12")
player = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="CollisionShape3D/Hand"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.19736135)
shape = SubResource("BoxShape3D_5nf5r")

[node name="CatchArea" type="Area3D" parent="CollisionShape3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.04347509, -0.42846847)
collision_layer = 0
collision_mask = 32

[node name="CollisionShape3D" type="CollisionShape3D" parent="CollisionShape3D/CatchArea"]
shape = SubResource("SphereShape3D_pnd2s")

[node name="ThrowArrow" type="Sprite3D" parent="CollisionShape3D"]
transform = Transform3D(5.284853e-08, -1, -4.371139e-08, 0, -4.371139e-08, 1, -0.7, -7.54979e-08, -3.300118e-15, 0, -0.6512088, -0.55353963)
double_sided = false
texture = ExtResource("13_5ovqi")

[node name="GroundSpringCast" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.46190122, 0)
script = ExtResource("8_ffq0p")

[node name="MultiplayerSynchronizer" type="MultiplayerSynchronizer" parent="."]
replication_config = SubResource("SceneReplicationConfig_t1bxn")

[node name="StatusEffectManager" type="Node" parent="."]
script = ExtResource("11_5nf5r")
metadata/_custom_type_script = "uid://bn80he875obc8"

[node name="ItemPopup" parent="." instance=ExtResource("19_nky6h")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.3268032, 0)
texture = SubResource("ViewportTexture_7dtnb")

[node name="ColorRing" type="Sprite3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, -1, 0, 1, -4.371139e-08, 0, 0.09775168, 0)
texture = SubResource("ViewportTexture_we0o2")

[node name="SubViewport" type="SubViewport" parent="ColorRing"]
transparent_bg = true
size = Vector2i(200, 200)

[node name="WandFill" type="ColorRect" parent="ColorRing/SubViewport"]
material = SubResource("ShaderMaterial_0ms2b")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="CenterContainer" type="CenterContainer" parent="ColorRing/SubViewport"]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
rotation = 3.1415927
pivot_offset = Vector2(100, 100)

[node name="Wand" type="TextureRect" parent="ColorRing/SubViewport/CenterContainer"]
custom_minimum_size = Vector2(60, 60)
layout_mode = 2
texture = ExtResource("17_aqjxd")
expand_mode = 2
stretch_mode = 5

[node name="Ring" type="ColorRect" parent="ColorRing/SubViewport"]
material = SubResource("ShaderMaterial_l7of8")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(1, 0, 1, 1)

[node name="Shield" type="ColorRect" parent="ColorRing/SubViewport"]
material = SubResource("ShaderMaterial_04f7j")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 1, 1, 1)

[node name="HurtBox" type="Area3D" parent="." node_paths=PackedStringArray("shield", "status_manager")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.7412989, 0)
collision_layer = 8
collision_mask = 0
script = ExtResource("14_pnd2s")
shield = NodePath("../Shield")
status_manager = NodePath("../StatusEffectManager")
max_health = 30.0
metadata/_custom_type_script = "uid://bav8mlr6l6106"

[node name="CollisionShape3D" type="CollisionShape3D" parent="HurtBox"]
shape = SubResource("CylinderShape3D_pnd2s")

[node name="StatusRoot" parent="." node_paths=PackedStringArray("status_manager") instance=ExtResource("16_3j2dy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.3297801, 0)
status_manager = NodePath("../StatusEffectManager")

[node name="RayInteractable" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.29256082, 0.34291774)
collision_layer = 32768
collision_mask = 0
monitoring = false
monitorable = false
script = ExtResource("17_r8c67")
metadata/_custom_type_script = "uid://buns64rcufm7p"

[node name="CollisionShape3D" type="CollisionShape3D" parent="RayInteractable"]
shape = SubResource("SphereShape3D_r8c67")

[node name="Progress" parent="." instance=ExtResource("18_21wd0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.1949117, 0)
texture = SubResource("ViewportTexture_nky6h")

[node name="Progress" parent="Progress/SubViewport/CenterContainer" index="0"]
script = null

[node name="Overheat" parent="Progress/SubViewport/CenterContainer/Progress" index="0"]
visible = false

[node name="Icon" type="Sprite3D" parent="."]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, 0, 1.8619231, 0)
billboard = 1
double_sided = false
no_depth_test = true
texture = ExtResource("17_21wd0")

[node name="DashSound" type="AudioStreamPlayer" parent="."]
stream = ExtResource("22_0ms2b")
volume_db = -15.0
pitch_scale = 1.5
script = ExtResource("23_21ptp")
min_pitch = 1.2
max_pitch = 1.4
one_shot = true

[node name="GPUParticles3D" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.09143144, 0)
visible = false
material_override = SubResource("ShaderMaterial_oi0ss")
amount = 1
lifetime = 0.8
process_material = SubResource("ParticleProcessMaterial_aqjxd")
draw_pass_1 = ExtResource("25_qnavn")

[node name="WandCircle" type="MeshInstance3D" parent="."]
transform = Transform3D(0.16, 0, 0, 0, 0.16, 0, 0, 0, 0.16, 0, 0.089026034, 0)
material_override = SubResource("ShaderMaterial_hq3yw")
mesh = ExtResource("25_qnavn")

[editable path="CollisionShape3D/Mage"]
[editable path="Progress"]
